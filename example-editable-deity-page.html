<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeus - Greek Deity (Editable Example)</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/editable-panels.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <!-- Firebase Config -->
    <script src="firebase-config.js"></script>
    <script src="js/firebase-init.js"></script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .deity-panel {
            background: rgba(26, 26, 46, 0.6);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(147, 112, 219, 0.3);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
        }

        .deity-header {
            margin-bottom: 24px;
        }

        .deity-header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #fff, rgba(255,255,255,0.9));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 8px 0;
        }

        .deity-subtitle {
            font-size: 1.2rem;
            color: #9370DB;
            margin: 0;
        }

        .deity-section {
            margin-bottom: 24px;
        }

        .deity-section h3 {
            color: #DAA520;
            margin-bottom: 12px;
        }

        .deity-section p {
            line-height: 1.7;
            color: #c0c0c0;
        }

        .deity-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            background: rgba(147, 112, 219, 0.3);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
            border: 1px solid rgba(147, 112, 219, 0.5);
        }

        .frosted-glass {
            background: rgba(26, 26, 46, 0.6);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Example Deity Panel (User-created) -->
        <div id="zeus-panel" class="deity-panel editable-panel">
            <div class="deity-header">
                <h1>‚ö° Zeus</h1>
                <p class="deity-subtitle">King of the Gods | Greek Mythology</p>
            </div>

            <div class="deity-section">
                <h3>Description</h3>
                <p>Zeus is the supreme deity of the ancient Greek pantheon, wielding the thunderbolt as his weapon and ruling from Mount Olympus. As the god of sky and thunder, he maintains order among both gods and mortals, though his numerous affairs and transformations make him one of the most complex figures in Greek mythology.</p>
            </div>

            <div class="deity-section">
                <h3>Domains</h3>
                <div class="deity-tags" id="domains-tags">
                    <span class="tag">Sky</span>
                    <span class="tag">Thunder</span>
                    <span class="tag">Justice</span>
                    <span class="tag">Kingship</span>
                    <span class="tag">Weather</span>
                </div>
            </div>

            <div class="deity-section">
                <h3>Sacred Symbols</h3>
                <div class="deity-tags" id="symbols-tags">
                    <span class="tag">‚ö° Thunderbolt</span>
                    <span class="tag">ü¶Ö Eagle</span>
                    <span class="tag">üëë Crown</span>
                    <span class="tag">‚öñÔ∏è Scales</span>
                </div>
            </div>

            <div class="deity-section">
                <h3>Sacred Animals</h3>
                <div class="deity-tags">
                    <span class="tag">Eagle</span>
                    <span class="tag">Bull</span>
                    <span class="tag">Cuckoo</span>
                </div>
            </div>
        </div>

        <!-- Example Official Content Panel (No edit, but can submit) -->
        <div id="olympus-panel" class="deity-panel editable-panel">
            <div class="deity-header">
                <h1>üèõÔ∏è Mount Olympus</h1>
                <p class="deity-subtitle">Home of the Gods | Greek Mythology</p>
            </div>

            <div class="deity-section">
                <h3>Description</h3>
                <p>Mount Olympus is the mythical home of the Greek gods, located at the highest peak in Greece. From this divine realm, the Olympian gods ruled over the cosmos, with Zeus presiding over the assembly of deities in his great throne room.</p>
            </div>

            <div class="deity-section">
                <h3>Residents</h3>
                <div class="deity-tags">
                    <span class="tag">Zeus</span>
                    <span class="tag">Hera</span>
                    <span class="tag">Poseidon</span>
                    <span class="tag">Athena</span>
                    <span class="tag">Apollo</span>
                    <span class="tag">Artemis</span>
                </div>
            </div>
        </div>

        <!-- Instructions Panel -->
        <div class="deity-panel" style="background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.3);">
            <h2>üß™ Editable Panel System Demo</h2>
            <h3>Features to Test:</h3>
            <ul>
                <li><strong>Edit Icon (‚úé):</strong> Top-right of Zeus panel (if you created it)</li>
                <li><strong>+ Button:</strong> Submit additional information to both panels</li>
                <li><strong>Community Submissions:</strong> Expandable panel shows approved submissions</li>
                <li><strong>Frosted Glass Theme:</strong> Modern UI with backdrop blur</li>
            </ul>

            <h3>How to Use:</h3>
            <ol>
                <li><strong>Login:</strong> Use Firebase Authentication</li>
                <li><strong>Create Content:</strong> Your submissions get an edit icon</li>
                <li><strong>Submit Info:</strong> Click + to add supplementary information</li>
                <li><strong>Edit Later:</strong> Click ‚úé on your own content to modify</li>
            </ol>

            <h3>Firebase Integration:</h3>
            <ul>
                <li>‚úÖ User authentication required for edit/submit</li>
                <li>‚úÖ Submissions stored in Firestore</li>
                <li>‚úÖ Ownership tracking (user can only edit their own)</li>
                <li>‚úÖ Moderation system (admin approval required)</li>
            </ul>
        </div>
    </div>

    <!-- Editable Panel System -->
    <script src="js/editable-panel-system.js"></script>
    <script>
        // Initialize Firebase and Editable Panel System
        document.addEventListener('DOMContentLoaded', () => {
            // Wait for Firebase to initialize
            setTimeout(() => {
                if (typeof firebase === 'undefined') {
                    console.error('Firebase not loaded');
                    return;
                }

                // Initialize editable panel system
                const editableSystem = new EditablePanelSystem(firebase.apps[0]);

                // Initialize Zeus panel (user-created example)
                // In production, canEdit would be determined by checking if currentUser.uid === createdBy
                const zeusPanel = document.getElementById('zeus-panel');
                editableSystem.initEditablePanel(zeusPanel, {
                    contentType: 'deity',
                    documentId: 'greek_zeus',
                    collection: 'deities',
                    canEdit: false, // Set to true if you're testing as the creator
                    canSubmitAppendment: true
                });

                // Initialize Olympus panel (official content, submissions only)
                const olympusPanel = document.getElementById('olympus-panel');
                editableSystem.initEditablePanel(olympusPanel, {
                    contentType: 'cosmology',
                    documentId: 'greek_mount-olympus',
                    collection: 'cosmology',
                    canEdit: false, // Official content, no edit
                    canSubmitAppendment: true
                });

                console.log('‚úÖ Editable Panel System initialized');
            }, 1000);
        });
    </script>
</body>
</html>
