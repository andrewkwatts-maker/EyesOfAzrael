window.formConfig={contributionTypes:{theory:{label:"Theory / Analysis",description:"Analyze existing content, draw connections, present hypotheses",sections:["basic","classification","content","metadata","sources"]},deity:{label:"Deity / God",description:"Add a deity, god, or divine being",sections:["basic","classification","deity-details","content","metadata","sources"],requiredFields:["pantheon","domain"]},hero:{label:"Hero / Figure",description:"Add a hero, prophet, saint, or important figure",sections:["basic","classification","hero-details","content","metadata","sources"],requiredFields:["role","era"]},creature:{label:"Creature / Being",description:"Add a mythological creature, angel, demon, or spirit",sections:["basic","classification","creature-details","content","metadata","sources"],requiredFields:["creatureType"]},place:{label:"Place / Location",description:"Add a sacred place, realm, or location",sections:["basic","classification","place-details","content","metadata","sources"],requiredFields:["placeType","location"]},item:{label:"Item / Artifact",description:"Add a sacred item, relic, or artifact",sections:["basic","classification","item-details","content","metadata","sources"],requiredFields:["itemType"]},herb:{label:"Herb / Plant",description:"Add a sacred herb, plant, or botanical",sections:["basic","classification","herb-details","content","metadata","sources"],requiredFields:["botanical"]},text:{label:"Text / Scripture",description:"Add a sacred text, scripture, or writing",sections:["basic","classification","text-details","content","metadata","sources"],requiredFields:["textType","author"]},concept:{label:"Concept / Teaching",description:"Add a theological concept, teaching, or philosophy",sections:["basic","classification","concept-details","content","metadata","sources"],requiredFields:["conceptCategory"]},mythology:{label:"New Mythology",description:"Add an entirely new mythology/tradition",sections:["basic","classification","mythology-details","content","metadata","sources"],requiredFields:["culture","region"]}},locationTypes:{earth:{label:"Earth Location",fieldType:"coordinates",options:[{value:"search",label:"Search for location",type:"geocoder"},{value:"coordinates",label:"Enter coordinates",type:"latlong"},{value:"description",label:"Describe location",type:"text"}]},mythical:{label:"Mythical Realm",fieldType:"hierarchical",options:[{value:"heaven",label:"Heaven / Paradise",parent:null},{value:"hell",label:"Hell / Underworld",parent:null},{value:"purgatory",label:"Purgatory / Limbo",parent:null},{value:"eden",label:"Garden of Eden",parent:"heaven"},{value:"tartarus",label:"Tartarus",parent:"hell"},{value:"elysium",label:"Elysian Fields",parent:"heaven"},{value:"valhalla",label:"Valhalla",parent:"heaven"},{value:"asgard",label:"Asgard",parent:null},{value:"olympus",label:"Mount Olympus",parent:null},{value:"sheol",label:"Sheol",parent:"hell"},{value:"user-locations",label:"--- My Locations ---",type:"separator"},{value:"custom",label:"+ Add New Mythical Location",type:"custom"}]},celestial:{label:"Celestial Location",fieldType:"hierarchical",options:[{value:"sun",label:"Sun / Solar"},{value:"moon",label:"Moon / Lunar"},{value:"stars",label:"Stars / Stellar"},{value:"planets",label:"Planets",parent:null},{value:"mercury",label:"Mercury",parent:"planets"},{value:"venus",label:"Venus",parent:"planets"},{value:"mars",label:"Mars",parent:"planets"},{value:"jupiter",label:"Jupiter",parent:"planets"},{value:"saturn",label:"Saturn",parent:"planets"},{value:"custom",label:"+ Add New Celestial Location",type:"custom"}]},abstract:{label:"Abstract / Conceptual",fieldType:"text",placeholder:"Describe the conceptual or abstract nature of this location"}},smartFields:{pantheon:{type:"hierarchical",label:"Pantheon / Divine Family",options:[{value:"greek",label:"Greek Pantheon",parent:null},{value:"greek-olympians",label:"Olympian Gods",parent:"greek"},{value:"greek-titans",label:"Titans",parent:"greek"},{value:"greek-primordial",label:"Primordial Deities",parent:"greek"},{value:"norse",label:"Norse Pantheon",parent:null},{value:"norse-aesir",label:"Ã†sir",parent:"norse"},{value:"norse-vanir",label:"Vanir",parent:"norse"},{value:"egyptian",label:"Egyptian Pantheon",parent:null},{value:"egyptian-ennead",label:"Ennead of Heliopolis",parent:"egyptian"},{value:"egyptian-ogdoad",label:"Ogdoad of Hermopolis",parent:"egyptian"},{value:"hindu",label:"Hindu Deities",parent:null},{value:"hindu-trimurti",label:"Trimurti",parent:"hindu"},{value:"hindu-devi",label:"Devi (Goddesses)",parent:"hindu"},{value:"abrahamic",label:"Abrahamic Tradition",parent:null},{value:"christian-trinity",label:"Christian Trinity",parent:"abrahamic"},{value:"angels",label:"Angels / Angelic Beings",parent:"abrahamic"},{value:"user-pantheons",label:"--- My Pantheons ---",type:"separator"},{value:"custom",label:"+ Add New Pantheon",type:"custom"}],allowCustom:!0},domain:{type:"multi-select",label:"Divine Domain(s)",placeholder:"Select or add domains",options:[{value:"sky",label:"â›… Sky / Weather",category:"natural"},{value:"sea",label:"ğŸŒŠ Sea / Water",category:"natural"},{value:"earth",label:"ğŸŒ Earth / Land",category:"natural"},{value:"fire",label:"ğŸ”¥ Fire",category:"natural"},{value:"sun",label:"â˜€ï¸ Sun / Light",category:"natural"},{value:"moon",label:"ğŸŒ™ Moon / Night",category:"natural"},{value:"storms",label:"âš¡ Storms / Thunder",category:"natural"},{value:"war",label:"âš”ï¸ War / Battle",category:"human"},{value:"love",label:"ğŸ’• Love / Beauty",category:"human"},{value:"wisdom",label:"ğŸ¦‰ Wisdom / Knowledge",category:"human"},{value:"death",label:"ğŸ’€ Death / Underworld",category:"human"},{value:"fertility",label:"ğŸŒ¾ Fertility / Harvest",category:"human"},{value:"justice",label:"âš–ï¸ Justice / Law",category:"human"},{value:"healing",label:"âš•ï¸ Healing / Medicine",category:"human"},{value:"arts",label:"ğŸ¨ Arts / Music",category:"human"},{value:"commerce",label:"ğŸ’° Commerce / Trade",category:"human"},{value:"time",label:"â° Time",category:"abstract"},{value:"fate",label:"ğŸ­ Fate / Destiny",category:"abstract"},{value:"chaos",label:"ğŸŒ€ Chaos / Disorder",category:"abstract"},{value:"order",label:"âœ¨ Order / Harmony",category:"abstract"},{value:"custom",label:"+ Add Custom Domain",type:"custom"}],allowCustom:!0},creatureType:{type:"hierarchical",label:"Creature Type",options:[{value:"divine",label:"Divine Beings",parent:null},{value:"angels",label:"Angels",parent:"divine"},{value:"demons",label:"Demons",parent:"divine"},{value:"spirits",label:"Spirits",parent:"divine"},{value:"mythical",label:"Mythical Creatures",parent:null},{value:"dragons",label:"Dragons",parent:"mythical"},{value:"giants",label:"Giants",parent:"mythical"},{value:"monsters",label:"Monsters",parent:"mythical"},{value:"hybrid",label:"Hybrid Beings",parent:null},{value:"centaur",label:"Centaurs",parent:"hybrid"},{value:"chimera",label:"Chimeras",parent:"hybrid"},{value:"undead",label:"Undead",parent:null},{value:"custom",label:"+ Add Custom Type",type:"custom"}],allowCustom:!0}},progressiveDisclosure:{sectionRules:{"contribution-type":{visible:"always",completed:e=>""!==e.contributionType},basic:{visible:e=>""!==e.contributionType,completed:["title","summary"]},classification:{visible:e=>""!==e.contributionType&&""!==e.title&&""!==e.summary,completed:e=>!!e.page&&(e.contributionType,""!==e.page)},"asset-details":{visible:e=>["deity","hero","creature","place","item","herb","text","concept","mythology"].includes(e.contributionType)&&""!==e.title&&""!==e.summary,completed:"optional"},content:{visible:e=>""!==e.page,completed:e=>e.richContent&&e.richContent.panels&&e.richContent.panels.length>0},metadata:{visible:e=>e.richContent&&e.richContent.panels&&e.richContent.panels.length>0,completed:"optional"}},fieldRules:{location:{visible:e=>""!==e.placeType,renderAs:e=>"earth"===e.placeType?"coordinates":"mythical"===e.placeType||"celestial"===e.placeType?"hierarchical-select":(e.placeType,"text")}}},getVisibleSections(e){const a=[];for(const[l,t]of Object.entries(this.progressiveDisclosure.sectionRules))("always"===t.visible||"function"==typeof t.visible&&t.visible(e))&&a.push(l);return a},isSectionCompleted(e,a){const l=this.progressiveDisclosure.sectionRules[e];return!!l&&("optional"===l.completed||("function"==typeof l.completed?l.completed(a):!!Array.isArray(l.completed)&&l.completed.every(e=>a[e]&&""!==a[e])))},async getUserFieldHistory(e,a){if(!a||!firebase||!firebase.firestore)return[];try{const l=firebase.firestore(),t=await l.collection("theories").where("userId","==",a).where(`assetMetadata.${e}`,"!=",null).orderBy(`assetMetadata.${e}`).limit(20).get(),i=new Set;return t.docs.forEach(a=>{const l=a.data().assetMetadata?.[e];l&&i.add(l)}),Array.from(i).sort()}catch(e){return[]}}};