class GoogleSignInButton{constructor(n){this.element=n,this.isLoading=!1,this.render(),this.attachEventListeners()}render(){const n=this.element.getAttribute("data-button-text")||"Sign in with Google",e={small:"google-signin-btn-small",medium:"google-signin-btn-medium",large:"google-signin-btn-large"},t=e[this.element.getAttribute("data-button-size")||"medium"]||e.medium;this.element.innerHTML=`\n            <button class="google-signin-btn ${t}" data-signin-button>\n                <svg class="google-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>\n                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>\n                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>\n                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>\n                </svg>\n                <span class="google-signin-text">${n}</span>\n                <span class="google-signin-loader" style="display: none;">\n                    <svg class="spinner" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                        <circle class="spinner-circle" cx="12" cy="12" r="10" fill="none" stroke-width="3"/>\n                    </svg>\n                </span>\n            </button>\n            <div class="google-signin-error" style="display: none;"></div>\n        `,document.getElementById("google-signin-styles")||this.addStyles()}addStyles(){const n=document.createElement("style");n.id="google-signin-styles",n.textContent="\n            .google-signin-btn {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                gap: 12px;\n                background: white;\n                color: rgba(0, 0, 0, 0.54);\n                border: none;\n                border-radius: 4px;\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n                font-weight: 500;\n                cursor: pointer;\n                transition: all 0.3s ease;\n                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);\n                position: relative;\n                width: 100%;\n            }\n\n            .google-signin-btn:hover {\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);\n                background: #f8f9fa;\n            }\n\n            .google-signin-btn:active {\n                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n                background: #f1f3f4;\n            }\n\n            .google-signin-btn:disabled {\n                opacity: 0.6;\n                cursor: not-allowed;\n                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            }\n\n            .google-signin-btn-small {\n                padding: 8px 16px;\n                font-size: 14px;\n            }\n\n            .google-signin-btn-medium {\n                padding: 10px 20px;\n                font-size: 16px;\n            }\n\n            .google-signin-btn-large {\n                padding: 14px 28px;\n                font-size: 18px;\n            }\n\n            .google-icon {\n                width: 18px;\n                height: 18px;\n                flex-shrink: 0;\n            }\n\n            .google-signin-btn-small .google-icon {\n                width: 16px;\n                height: 16px;\n            }\n\n            .google-signin-btn-large .google-icon {\n                width: 20px;\n                height: 20px;\n            }\n\n            .google-signin-text {\n                flex: 1;\n                text-align: center;\n            }\n\n            .google-signin-loader {\n                display: none;\n                position: absolute;\n                right: 16px;\n            }\n\n            .google-signin-btn.loading .google-signin-loader {\n                display: block;\n            }\n\n            .spinner {\n                width: 20px;\n                height: 20px;\n                animation: spin 1s linear infinite;\n            }\n\n            .spinner-circle {\n                stroke: #4285F4;\n                stroke-linecap: round;\n                animation: dash 1.5s ease-in-out infinite;\n            }\n\n            @keyframes spin {\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n\n            @keyframes dash {\n                0% {\n                    stroke-dasharray: 1, 150;\n                    stroke-dashoffset: 0;\n                }\n                50% {\n                    stroke-dasharray: 90, 150;\n                    stroke-dashoffset: -35;\n                }\n                100% {\n                    stroke-dasharray: 90, 150;\n                    stroke-dashoffset: -124;\n                }\n            }\n\n            .google-signin-error {\n                margin-top: 12px;\n                padding: 12px;\n                background: rgba(220, 38, 38, 0.1);\n                border: 1px solid rgba(220, 38, 38, 0.3);\n                border-radius: 6px;\n                color: #dc2626;\n                font-size: 14px;\n                text-align: center;\n            }\n        ",document.head.appendChild(n)}attachEventListeners(){const n=this.element.querySelector("[data-signin-button]");n&&n.addEventListener("click",()=>this.handleSignIn())}async handleSignIn(){if(!this.isLoading)if(window.firebaseAuth){this.hideError(),this.setLoading(!0);try{const n=await window.firebaseAuth.signInWithGoogle();n.success?(window.firebaseAuth.hideAuthModal&&window.firebaseAuth.hideAuthModal(),this.element.dispatchEvent(new CustomEvent("google-signin-success",{bubbles:!0,detail:n.user}))):(this.showError(n.error),this.element.dispatchEvent(new CustomEvent("google-signin-error",{bubbles:!0,detail:{error:n.error}})))}catch(n){this.showError("An unexpected error occurred. Please try again."),this.element.dispatchEvent(new CustomEvent("google-signin-error",{bubbles:!0,detail:{error:n.message}}))}finally{this.setLoading(!1)}}else this.showError("Authentication system not initialized. Please refresh the page.")}setLoading(n){this.isLoading=n;const e=this.element.querySelector("[data-signin-button]"),t=this.element.querySelector(".google-signin-loader");n?(e.classList.add("loading"),e.disabled=!0,t&&(t.style.display="block")):(e.classList.remove("loading"),e.disabled=!1,t&&(t.style.display="none"))}showError(n){const e=this.element.querySelector(".google-signin-error");e&&(e.textContent=n,e.style.display="block")}hideError(){const n=this.element.querySelector(".google-signin-error");n&&(n.style.display="none")}}function initGoogleSignInButtons(){document.querySelectorAll("[data-google-signin]").forEach(n=>{n.hasAttribute("data-google-signin-initialized")||(new GoogleSignInButton(n),n.setAttribute("data-google-signin-initialized","true"))})}if("loading"===document.readyState?document.addEventListener("DOMContentLoaded",initGoogleSignInButtons):initGoogleSignInButtons(),"undefined"!=typeof MutationObserver){const n=new MutationObserver(n=>{n.forEach(n=>{n.addedNodes.forEach(n=>{1===n.nodeType&&(n.hasAttribute&&n.hasAttribute("data-google-signin")&&(new GoogleSignInButton(n),n.setAttribute("data-google-signin-initialized","true")),n.querySelectorAll&&n.querySelectorAll("[data-google-signin]").forEach(n=>{n.hasAttribute("data-google-signin-initialized")||(new GoogleSignInButton(n),n.setAttribute("data-google-signin-initialized","true"))}))})})});document.body?n.observe(document.body,{childList:!0,subtree:!0}):document.addEventListener("DOMContentLoaded",()=>{n.observe(document.body,{childList:!0,subtree:!0})})}"undefined"!=typeof module&&module.exports&&(module.exports=GoogleSignInButton);