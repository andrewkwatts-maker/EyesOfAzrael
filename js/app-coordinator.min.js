!function(){"use strict";const e={domReady:{status:!1,timestamp:null},authReady:{status:!1,timestamp:null,user:null},appReady:{status:!1,timestamp:null},navigationReady:{status:!1,timestamp:null},routeTriggered:{status:!1,timestamp:null}},a={firebase:!1,firestore:!1,authManager:!1,homeView:!1,spaNavigation:!1,universalDisplayRenderer:!1,crudManager:!1,search:!1,shaders:!1},t={namespaceExists:!1,db:!1,firebaseAuth:!1,auth:!1,crudManager:!1,renderer:!1,navigation:!1,search:!1,shaders:!1},n=performance.now();function r(e,a,t,r=""){Math.round(performance.now()-n)}function s(){a.firebase="undefined"!=typeof firebase,a.firestore=void 0!==firebase?.firestore,a.authManager="undefined"!=typeof AuthManager,a.homeView="undefined"!=typeof HomeView,a.spaNavigation="undefined"!=typeof SPANavigation,a.universalDisplayRenderer="undefined"!=typeof UniversalDisplayRenderer,a.crudManager="undefined"!=typeof FirebaseCRUDManager,a.search="undefined"!=typeof EnhancedCorpusSearch,a.shaders="undefined"!=typeof ShaderThemeManager}function i(){t.namespaceExists=void 0!==window.EyesOfAzrael,t.namespaceExists&&(t.db=!!window.EyesOfAzrael.db,t.firebaseAuth=!!window.EyesOfAzrael.firebaseAuth,t.auth=!!window.EyesOfAzrael.auth,t.crudManager=!!window.EyesOfAzrael.crudManager,t.renderer=!!window.EyesOfAzrael.renderer,t.navigation=!!window.EyesOfAzrael.navigation,t.search=!!window.EyesOfAzrael.search,t.shaders=!!window.EyesOfAzrael.shaders)}function d(){Math.round(performance.now()-n),Object.entries(a).filter(([e,a])=>!a).map(([e])=>e).length,Object.entries(t).filter(([e,a])=>"namespaceExists"!==e&&!a).map(([e])=>e).length>0&&t.namespaceExists,e.domReady.timestamp,e.authReady.timestamp,e.appReady.timestamp,e.navigationReady.timestamp,e.routeTriggered.timestamp}function o(){s(),i();const a=Math.round(performance.now()-n);if(d(),e.domReady.status&&e.authReady.status&&e.appReady.status&&!e.navigationReady.status)e.navigationReady.status=!0,e.navigationReady.timestamp=a,r(0,0,0,"All prerequisites met"),setTimeout(()=>{if(Math.round(performance.now()-n),i(),window.EyesOfAzrael&&window.EyesOfAzrael.navigation)try{window.EyesOfAzrael.navigation.handleRoute(),e.routeTriggered.status=!0,e.routeTriggered.timestamp=Math.round(performance.now()-n),r(0,0,0,"Initial route handled")}catch(e){d()}else{window.EyesOfAzrael;const e=Array.from(document.querySelectorAll("script[src]")).map(e=>e.src.split("/").pop());["universal-display-renderer.js","spa-navigation.js","home-view.js","app-init-simple.js"].filter(a=>!e.some(e=>e.includes(a))).length,d()}},100);else{const a=[];e.domReady.status||a.push("DOM"),e.authReady.status||a.push("Auth"),e.appReady.status||a.push("App"),a.length}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{e.domReady.status=!0,e.domReady.timestamp=Math.round(performance.now()-n),r(),o()}):(e.domReady.status=!0,e.domReady.timestamp=0,r(0,0,0,"already ready")),document.addEventListener("auth-ready",a=>{e.authReady.status=!0,e.authReady.timestamp=Math.round(performance.now()-n),e.authReady.user=a.detail?.user||null,r(0,0,0,a.detail?.user?"Logged in":"Not logged in"),o()}),document.addEventListener("app-initialized",()=>{e.appReady.status=!0,e.appReady.timestamp=Math.round(performance.now()-n),r(),o()}),window.debugInitState=()=>(s(),i(),{initState:e,componentState:a,globalState:t,elapsed:Math.round(performance.now()-n)}),window.debugCoordinator=()=>{s(),i(),d()},window.forceRouteCheck=()=>{o()};let u=0;const p=setInterval(()=>{u++,u>12||e.routeTriggered.status?clearInterval(p):(Math.round(performance.now()-n),o())},5e3)}();