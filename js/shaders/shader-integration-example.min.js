const shaderManager=new ShaderThemeManager({intensity:.8,quality:"high",adaptiveQuality:!0});function activateShaderTheme(e){shaderManager.activate(e)}function integrateWithThemePicker(){document.addEventListener("themeChanged",e=>{const t={greek:"water",norse:"night",egyptian:"light",hindu:"fire",celtic:"earth",persian:"fire",chinese:"night",babylonian:"night",roman:"light",sumerian:"earth",mayan:"earth",aztec:"fire",yoruba:"earth",buddhist:"light"}[e.detail.theme.toLowerCase()]||"dark";shaderManager.activate(t)})}function createShaderControls(){document.body.insertAdjacentHTML("beforeend",'\n        <div class="shader-controls">\n            <button id="shaderToggle" class="active">Shaders: ON</button>\n\n            <div class="shader-intensity-slider">\n                <label>Intensity</label>\n                <input type="range" id="shaderIntensity" min="0" max="100" value="80">\n            </div>\n\n            <div class="shader-info">\n                <div>FPS: <span class="fps good" id="shaderFPS">60</span></div>\n                <div>Quality: <span id="shaderQuality">High</span></div>\n            </div>\n        </div>\n    ');const e=document.getElementById("shaderToggle"),t=document.getElementById("shaderIntensity"),a=document.getElementById("shaderFPS"),n=document.getElementById("shaderQuality");e.addEventListener("click",()=>{const t=shaderManager.toggle();e.textContent=t?"Shaders: ON":"Shaders: OFF",e.classList.toggle("active",t)}),t.addEventListener("input",e=>{shaderManager.setIntensity(e.target.value/100)}),setInterval(()=>{const e=shaderManager.getStatus();a.textContent=e.fps,a.className=e.fps<30?"fps low":"fps good",n.textContent=e.quality.charAt(0).toUpperCase()+e.quality.slice(1)},1e3)}function respectUserPreferences(){window.matchMedia("(prefers-reduced-motion: reduce)").matches?shaderManager.deactivate():("getBattery"in navigator&&navigator.getBattery().then(e=>{e.level<.2&&(shaderManager.settings.quality="low",shaderManager.handleResize())}),"false"===localStorage.getItem("shadersEnabled")&&shaderManager.deactivate())}function setupPerformanceMonitoring(){setInterval(()=>{shaderManager.getStatus().fps<20&&showPerformanceWarning()},5e3)}function showPerformanceWarning(){const e=document.createElement("div");e.className="shader-performance-warning",e.innerHTML='\n        <strong>Low Performance Detected</strong>\n        <p>Shader effects may be impacting performance. Would you like to disable them?</p>\n        <button onclick="disableShaders()">Disable Shaders</button>\n        <button onclick="this.parentElement.remove()">Keep Enabled</button>\n    ',document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},1e4)}function disableShaders(){shaderManager.deactivate(),localStorage.setItem("shadersEnabled","false"),document.querySelector(".shader-performance-warning")?.remove()}function initializeShaderSystem(){try{if(!shaderManager.webglSupported)return void document.body.classList.add("no-webgl");integrateWithThemePicker(),createShaderControls(),respectUserPreferences(),setupPerformanceMonitoring(),shaderManager.activate("dark")}catch(e){document.body.classList.add("no-webgl")}}function shutdownShaderSystem(){shaderManager.destroy(),document.querySelector(".shader-controls")?.remove()}"undefined"!=typeof window&&(window.ShaderIntegration={init:initializeShaderSystem,shutdown:shutdownShaderSystem,manager:shaderManager,activateTheme:activateShaderTheme,createControls:createShaderControls}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeShaderSystem):initializeShaderSystem();