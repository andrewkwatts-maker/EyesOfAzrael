class SEOManager{constructor(){this.siteData={name:"Eyes of Azrael",description:"A comprehensive encyclopedia of world mythologies, magical systems, sacred herbalism, and spiritual traditions spanning 6000+ years of human history",url:"https://eyesofazrael.com",logo:"https://eyesofazrael.com/icons/icon-512x512.png",twitterHandle:"@EyesOfAzrael",fbAppId:""}}setPageMeta(t){const{title:e,description:a,keywords:i=[],image:s,type:r="website",author:n,publishedTime:o,modifiedTime:c,section:h,tags:d=[],canonical:l}=t;this.setTitle(e),this.setMetaTag("description",a),this.setMetaTag("og:description",a),this.setMetaTag("twitter:description",a),i.length>0&&this.setMetaTag("keywords",i.join(", ")),l?this.setCanonical(l):this.setCanonical(window.location.href),this.setMetaTag("og:title",e),this.setMetaTag("og:type",r),this.setMetaTag("og:url",l||window.location.href),this.setMetaTag("og:site_name",this.siteData.name),this.setMetaTag("og:locale","en_US"),s?(this.setMetaTag("og:image",s),this.setMetaTag("og:image:alt",e),this.setMetaTag("twitter:image",s)):(this.setMetaTag("og:image",this.siteData.logo),this.setMetaTag("twitter:image",this.siteData.logo)),this.setMetaTag("twitter:card",s?"summary_large_image":"summary"),this.setMetaTag("twitter:site",this.siteData.twitterHandle),this.setMetaTag("twitter:title",e),"article"===r&&(n&&this.setMetaTag("article:author",n),o&&this.setMetaTag("article:published_time",o),c&&this.setMetaTag("article:modified_time",c),h&&this.setMetaTag("article:section",h),d.length>0&&d.forEach(t=>this.addMetaTag("article:tag",t))),this.siteData.fbAppId&&this.setMetaTag("fb:app_id",this.siteData.fbAppId)}setTitle(t){const e=t===this.siteData.name?t:`${t} | ${this.siteData.name}`;document.title=e,this.setMetaTag("og:title",e),this.setMetaTag("twitter:title",e)}setMetaTag(t,e){if(!e)return;const a=t.startsWith("og:")||t.startsWith("fb:")||t.startsWith("article:")?"property":"name";let i=document.querySelector(`meta[${a}="${t}"]`);i||(i=document.createElement("meta"),i.setAttribute(a,t),document.head.appendChild(i)),i.setAttribute("content",e)}addMetaTag(t,e){if(!e)return;const a=t.startsWith("og:")||t.startsWith("fb:")||t.startsWith("article:")?"property":"name",i=document.createElement("meta");i.setAttribute(a,t),i.setAttribute("content",e),document.head.appendChild(i)}setCanonical(t){let e=document.querySelector('link[rel="canonical"]');e||(e=document.createElement("link"),e.setAttribute("rel","canonical"),document.head.appendChild(e)),e.setAttribute("href",t)}addStructuredData(t){const e=document.createElement("script");e.type="application/ld+json",e.textContent=JSON.stringify(t),document.head.appendChild(e)}generateWebsiteSchema(){return{"@context":"https://schema.org","@type":"WebSite",name:this.siteData.name,description:this.siteData.description,url:this.siteData.url,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${this.siteData.url}/search?q={search_term_string}`},"query-input":"required name=search_term_string"}}}generateOrganizationSchema(){return{"@context":"https://schema.org","@type":"Organization",name:this.siteData.name,url:this.siteData.url,logo:this.siteData.logo,sameAs:[]}}generateArticleSchema(t){const{headline:e,description:a,image:i,datePublished:s,dateModified:r,author:n="Eyes of Azrael",section:o}=t;return{"@context":"https://schema.org","@type":"Article",headline:e,description:a,image:i||this.siteData.logo,datePublished:s,dateModified:r||s,author:{"@type":"Organization",name:n},publisher:{"@type":"Organization",name:this.siteData.name,logo:{"@type":"ImageObject",url:this.siteData.logo}},mainEntityOfPage:{"@type":"WebPage","@id":window.location.href},articleSection:o}}generateBreadcrumbSchema(t){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((t,e)=>({"@type":"ListItem",position:e+1,name:t.name,item:t.url}))}}generatePersonSchema(t){const{name:e,description:a,image:i,sameAs:s=[],additionalType:r}=t;return{"@context":"https://schema.org","@type":"Person",name:e,description:a,image:i,sameAs:s,additionalType:r||"https://schema.org/MythicalCreature"}}autoDetectMeta(){const t=document.querySelector("h1"),e=document.querySelector('meta[name="description"]')?.content||document.querySelector("p")?.textContent.substring(0,160);t&&!document.querySelector('meta[property="og:title"]')&&this.setPageMeta({title:t.textContent,description:e||this.siteData.description})}init(t="default",e={}){switch(0===Object.keys(e).length?this.autoDetectMeta():this.setPageMeta(e),t){case"home":this.addStructuredData(this.generateWebsiteSchema()),this.addStructuredData(this.generateOrganizationSchema());break;case"deity":case"entity":e.entity&&this.addStructuredData(this.generatePersonSchema(e.entity));break;case"article":e.article&&this.addStructuredData(this.generateArticleSchema(e.article));break;case"breadcrumb":e.breadcrumbs&&this.addStructuredData(this.generateBreadcrumbSchema(e.breadcrumbs))}}}"undefined"!=typeof module&&module.exports&&(module.exports=SEOManager);