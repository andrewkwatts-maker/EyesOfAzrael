class HomeViewEnhanced{constructor(e){this.db=e,this.mythologies=[],this.dataSource="unknown",e&&e.collection}async render(e){if(e){e.innerHTML='\n            <div class="loading-container">\n                <div class="spinner-container">\n                    <div class="spinner-ring"></div>\n                    <div class="spinner-ring"></div>\n                    <div class="spinner-ring"></div>\n                </div>\n                <p class="loading-message">Loading mythologies...</p>\n                <p style="font-size: 0.8rem; color: #888; margin-top: 1rem;">üîç Enhanced diagnostics active</p>\n            </div>\n        ';try{performance.now();await this.loadMythologies(),performance.now();const n=this.getHomeHTML();e.innerHTML=n,this.attachEventListeners()}catch(n){e.innerHTML=this.getErrorHTML(n)}}}async loadMythologies(){if(!this.db)return this.mythologies=this.getFallbackMythologies(),void(this.dataSource="fallback-no-db");try{const e=this.db.collection("mythologies").orderBy("order","asc"),n=(performance.now(),await e.get());performance.now(),n.empty?(this.mythologies=this.getFallbackMythologies(),this.dataSource="fallback-empty"):(this.mythologies=n.docs.map((e,n)=>{const o=e.data();return{id:e.id,...o}}),this.dataSource="firebase",this.mythologies.forEach((e,n)=>{e.name,e.icon,e.description,e.order}))}catch(e){"permission-denied"===e.code||"failed-precondition"===e.code||e.code,this.mythologies=this.getFallbackMythologies(),this.dataSource="fallback-error"}}getFallbackMythologies(){return[{id:"greek",name:"Greek Mythology",icon:"üèõÔ∏è",description:"Gods of Olympus and heroes of ancient Greece",color:"var(--color-primary, #8b7fff)",order:1},{id:"norse",name:"Norse Mythology",icon:"‚öîÔ∏è",description:"Warriors of Asgard and the Nine Realms",color:"#4a9eff",order:2},{id:"egyptian",name:"Egyptian Mythology",icon:"ìÇÄ",description:"Keepers of the Nile and guardians of Ma'at",color:"#ffd93d",order:3},{id:"hindu",name:"Hindu Mythology",icon:"üïâÔ∏è",description:"The Trimurti and cosmic cycles of creation",color:"#ff7eb6",order:4},{id:"buddhist",name:"Buddhist Tradition",icon:"‚ò∏Ô∏è",description:"Bodhisattvas and the path to enlightenment",color:"#51cf66",order:5},{id:"chinese",name:"Chinese Mythology",icon:"üêâ",description:"Dragons, immortals, and celestial bureaucracy",color:"#f85a8f",order:6},{id:"japanese",name:"Japanese Mythology",icon:"‚õ©Ô∏è",description:"Kami spirits and the creation of Japan",color:"#fb9f7f",order:7},{id:"celtic",name:"Celtic Mythology",icon:"üçÄ",description:"Druids, faeries, and the Tuatha D√© Danann",color:"#7fd9d3",order:8},{id:"babylonian",name:"Babylonian Mythology",icon:"üèõÔ∏è",description:"The Enuma Elish and gods of Mesopotamia",color:"#b965e6",order:9},{id:"persian",name:"Persian Mythology",icon:"üî•",description:"Zoroastrian wisdom and the eternal flame",color:"#7fb0f9",order:10},{id:"christian",name:"Christian Tradition",icon:"‚úü",description:"Angels, saints, and biblical narratives",color:"#a8edea",order:11},{id:"islamic",name:"Islamic Tradition",icon:"‚ò™Ô∏è",description:"Prophets, angels, and divine revelation",color:"#fed6e3",order:12}]}getHomeHTML(){return`\n            <div class="home-view">\n                \x3c!-- Data Source Indicator --\x3e\n                ${this.getDataSourceBadge()}\n\n                \x3c!-- Hero Section --\x3e\n                <section class="hero-section">\n                    <div class="hero-content">\n                        <h1 class="hero-title">\n                            <span class="hero-icon">üëÅÔ∏è</span>\n                            Eyes of Azrael\n                        </h1>\n                        <p class="hero-subtitle">\n                            Explore World Mythologies\n                        </p>\n                        <p class="hero-description">\n                            Journey through 6000+ years of human mythology, from ancient Sumer to modern traditions.\n                            Discover deities, heroes, creatures, and sacred texts from cultures across the globe.\n                        </p>\n                        <div class="hero-actions">\n                            <a href="#/search" class="btn-primary">\n                                üîç Search Database\n                            </a>\n                            <a href="#/compare" class="btn-secondary">\n                                ‚öñÔ∏è Compare Traditions\n                            </a>\n                        </div>\n                    </div>\n                </section>\n\n                \x3c!-- Mythology Cards Grid --\x3e\n                <section class="mythology-grid-section">\n                    <h2 class="section-title">Explore Mythologies</h2>\n                    <div class="mythology-grid">\n                        ${this.mythologies.map(e=>this.getMythologyCardHTML(e)).join("")}\n                    </div>\n                </section>\n\n                \x3c!-- Features Section --\x3e\n                <section class="features-section">\n                    <h2 class="section-title">Database Features</h2>\n                    <div class="features-grid">\n                        <div class="feature-card">\n                            <div class="feature-icon">üìö</div>\n                            <h3>Comprehensive Database</h3>\n                            <p>Thousands of entities across 12+ mythological traditions</p>\n                        </div>\n                        <div class="feature-card">\n                            <div class="feature-icon">üîó</div>\n                            <h3>Cross-Cultural Links</h3>\n                            <p>Discover connections between different traditions</p>\n                        </div>\n                        <div class="feature-card">\n                            <div class="feature-icon">üåø</div>\n                            <h3>Sacred Herbalism</h3>\n                            <p>Explore plants, rituals, and traditional practices</p>\n                        </div>\n                        <div class="feature-card">\n                            <div class="feature-icon">‚ú®</div>\n                            <h3>Magic Systems</h3>\n                            <p>Study mystical practices and esoteric traditions</p>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        `}getDataSourceBadge(){const e={firebase:{icon:"üî•",text:"Live Firebase Data",color:"#10b981",bg:"#d1fae5"},"fallback-empty":{icon:"üì¶",text:"Fallback Data (Empty Collection)",color:"#f59e0b",bg:"#fef3c7"},"fallback-error":{icon:"‚ö†Ô∏è",text:"Fallback Data (Error)",color:"#ef4444",bg:"#fee2e2"},"fallback-no-db":{icon:"‚ùå",text:"Fallback Data (No Database)",color:"#ef4444",bg:"#fee2e2"},unknown:{icon:"‚ùì",text:"Unknown Data Source",color:"#6b7280",bg:"#f3f4f6"}},n=e[this.dataSource]||e.unknown;return`\n            <div style="\n                position: fixed;\n                top: 80px;\n                right: 20px;\n                background: ${n.bg};\n                color: ${n.color};\n                padding: 8px 16px;\n                border-radius: 8px;\n                font-size: 0.875rem;\n                font-weight: 600;\n                box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                z-index: 1000;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n            ">\n                <span>${n.icon}</span>\n                <span>${n.text}</span>\n            </div>\n        `}getMythologyCardHTML(e){const n=e.color||"var(--color-primary, #8b7fff)";return`\n            <a href="#/mythology/${e.id}" class="mythology-card" data-mythology="${e.id}">\n                <div class="mythology-card-icon" style="color: ${n};">\n                    ${e.icon||"üìñ"}\n                </div>\n                <h3 class="mythology-card-title">${e.name}</h3>\n                <p class="mythology-card-description">${e.description}</p>\n                <div class="mythology-card-arrow" style="color: ${n};">‚Üí</div>\n            </a>\n        `}getErrorHTML(e){return`\n            <div class="error-container" style="\n                text-align: center;\n                padding: 4rem 2rem;\n                max-width: 600px;\n                margin: 0 auto;\n            ">\n                <div style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>\n                <h1>Error Loading Home Page</h1>\n                <p style="color: #ef4444; margin: 1rem 0;">${e.message}</p>\n                <div style="background: #fee2e2; padding: 1rem; border-radius: 8px; margin: 1rem 0; text-align: left;">\n                    <strong>Debug Info:</strong>\n                    <pre style="overflow: auto; font-size: 0.875rem;">${e.stack}</pre>\n                </div>\n                <button onclick="location.reload()" class="btn-primary">Reload Page</button>\n                <p style="margin-top: 1rem; color: #888; font-size: 0.875rem;">\n                    Check browser console (F12) for detailed logs\n                </p>\n            </div>\n        `}attachEventListeners(){document.querySelectorAll(".mythology-card").forEach((e,n)=>{e.addEventListener("mouseenter",()=>{}),e.addEventListener("click",e=>{})})}}"undefined"!=typeof module&&module.exports&&(module.exports=HomeViewEnhanced),window.HomeViewEnhanced=HomeViewEnhanced;