class HomeViewDebug{constructor(e){this.db=e,this.mythologies=[],this.loadStartTime=null,this.loadTimeout=1e4,this.debugInfo={firebaseAttempted:!1,firebaseSuccess:!1,firebaseError:null,fallbackUsed:!1,totalMythologies:0,loadDuration:0}}async render(e){if(!e)return;this.loadStartTime=Date.now(),e.innerHTML=this.getLoadingHTML();const n=setTimeout(()=>{this.renderTimeoutError(e)},this.loadTimeout);try{await this.loadMythologies(),clearTimeout(n),this.debugInfo.loadDuration=Date.now()-this.loadStartTime,this.debugInfo.totalMythologies=this.mythologies.length,e.innerHTML=this.getHomeHTML(),this.addDebugPanel(e),this.attachEventListeners()}catch(o){clearTimeout(n),e.innerHTML=this.getErrorHTML(o)}}async loadMythologies(){if(this.debugInfo.firebaseAttempted=!0,!this.db)return this.debugInfo.firebaseError="Firestore instance not provided",this.debugInfo.fallbackUsed=!0,void(this.mythologies=this.getFallbackMythologies());try{Date.now();const e=await this.db.collection("mythologies").orderBy("order","asc").get();Date.now(),e.empty?(this.debugInfo.firebaseSuccess=!1,this.debugInfo.fallbackUsed=!0,this.mythologies=this.getFallbackMythologies()):(this.mythologies=e.docs.map((e,n)=>{const o=e.data();return{id:e.id,...o}}),this.debugInfo.firebaseSuccess=!0)}catch(e){"permission-denied"===e.code||"failed-precondition"===e.code||e.code,this.debugInfo.firebaseError=e.message,this.debugInfo.fallbackUsed=!0,this.mythologies=this.getFallbackMythologies()}}getFallbackMythologies(){return[{id:"greek",name:"Greek Mythology",icon:"üèõÔ∏è",description:"Gods of Olympus and heroes of ancient Greece",color:"var(--color-primary, #8b7fff)",order:1},{id:"norse",name:"Norse Mythology",icon:"‚öîÔ∏è",description:"Warriors of Asgard and the Nine Realms",color:"#4a9eff",order:2},{id:"egyptian",name:"Egyptian Mythology",icon:"ìÇÄ",description:"Keepers of the Nile and guardians of Ma'at",color:"#ffd93d",order:3},{id:"hindu",name:"Hindu Mythology",icon:"üïâÔ∏è",description:"The Trimurti and cosmic cycles of creation",color:"#ff7eb6",order:4},{id:"buddhist",name:"Buddhist Tradition",icon:"‚ò∏Ô∏è",description:"Bodhisattvas and the path to enlightenment",color:"#51cf66",order:5},{id:"chinese",name:"Chinese Mythology",icon:"üêâ",description:"Dragons, immortals, and celestial bureaucracy",color:"#f85a8f",order:6},{id:"japanese",name:"Japanese Mythology",icon:"‚õ©Ô∏è",description:"Kami spirits and the creation of Japan",color:"#fb9f7f",order:7},{id:"celtic",name:"Celtic Mythology",icon:"üçÄ",description:"Druids, faeries, and the Tuatha D√© Danann",color:"#7fd9d3",order:8},{id:"babylonian",name:"Babylonian Mythology",icon:"üèõÔ∏è",description:"The Enuma Elish and gods of Mesopotamia",color:"#b965e6",order:9},{id:"persian",name:"Persian Mythology",icon:"üî•",description:"Zoroastrian wisdom and the eternal flame",color:"#7fb0f9",order:10},{id:"christian",name:"Christian Tradition",icon:"‚úü",description:"Angels, saints, and biblical narratives",color:"#a8edea",order:11},{id:"islamic",name:"Islamic Tradition",icon:"‚ò™Ô∏è",description:"Prophets, angels, and divine revelation",color:"#fed6e3",order:12}]}getLoadingHTML(){return'\n            <div class="loading-container">\n                <div class="spinner-container">\n                    <div class="spinner-ring"></div>\n                    <div class="spinner-ring"></div>\n                    <div class="spinner-ring"></div>\n                </div>\n                <p class="loading-message">Loading mythologies from Firebase...</p>\n                <p class="loading-submessage" style="color: #888; font-size: 0.9rem; margin-top: 0.5rem;">\n                    Check console (F12) for detailed loading information\n                </p>\n            </div>\n        '}getHomeHTML(){return`\n            <div class="home-view">\n                \x3c!-- Hero Section --\x3e\n                <section class="hero-section">\n                    <div class="hero-content">\n                        <h1 class="hero-title">\n                            <span class="hero-icon">üëÅÔ∏è</span>\n                            Eyes of Azrael\n                        </h1>\n                        <p class="hero-subtitle">\n                            Explore World Mythologies\n                        </p>\n                        <p class="hero-description">\n                            Journey through 6000+ years of human mythology, from ancient Sumer to modern traditions.\n                            Discover deities, heroes, creatures, and sacred texts from cultures across the globe.\n                        </p>\n                        <div class="hero-actions">\n                            <a href="#/search" class="btn-primary">\n                                üîç Search Database\n                            </a>\n                            <a href="#/compare" class="btn-secondary">\n                                ‚öñÔ∏è Compare Traditions\n                            </a>\n                        </div>\n                    </div>\n                </section>\n\n                \x3c!-- Mythology Cards Grid --\x3e\n                <section class="mythology-grid-section">\n                    <h2 class="section-title">Explore Mythologies</h2>\n                    <div class="mythology-grid">\n                        ${this.mythologies.map(e=>this.getMythologyCardHTML(e)).join("")}\n                    </div>\n                </section>\n\n                \x3c!-- Features Section --\x3e\n                <section class="features-section">\n                    <h2 class="section-title">Database Features</h2>\n                    <div class="features-grid">\n                        <div class="feature-card">\n                            <div class="feature-icon">üìö</div>\n                            <h3>Comprehensive Database</h3>\n                            <p>Thousands of entities across 12+ mythological traditions</p>\n                        </div>\n                        <div class="feature-card">\n                            <div class="feature-icon">üîó</div>\n                            <h3>Cross-Cultural Links</h3>\n                            <p>Discover connections between different traditions</p>\n                        </div>\n                        <div class="feature-card">\n                            <div class="feature-icon">üåø</div>\n                            <h3>Sacred Herbalism</h3>\n                            <p>Explore plants, rituals, and traditional practices</p>\n                        </div>\n                        <div class="feature-card">\n                            <div class="feature-icon">‚ú®</div>\n                            <h3>Magic Systems</h3>\n                            <p>Study mystical practices and esoteric traditions</p>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        `}getMythologyCardHTML(e){const n=e.color||"var(--color-primary, #8b7fff)";return`\n            <a href="#/mythology/${e.id}" class="mythology-card" data-mythology="${e.id}">\n                <div class="mythology-card-icon" style="color: ${n};">\n                    ${e.icon||"üìñ"}\n                </div>\n                <h3 class="mythology-card-title">${e.name}</h3>\n                <p class="mythology-card-description">${e.description}</p>\n                <div class="mythology-card-arrow" style="color: ${n};">‚Üí</div>\n            </a>\n        `}getErrorHTML(e){return`\n            <div class="error-container" style="\n                text-align: center;\n                padding: 4rem 2rem;\n                max-width: 800px;\n                margin: 0 auto;\n                background: rgba(255, 0, 0, 0.1);\n                border: 2px solid rgba(255, 0, 0, 0.3);\n                border-radius: 16px;\n            ">\n                <div style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>\n                <h1>Error Loading Home Page</h1>\n                <p style="color: #ef4444; margin: 1rem 0; font-family: monospace;">\n                    ${e.message}\n                </p>\n                <details style="text-align: left; margin: 2rem 0; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">\n                    <summary style="cursor: pointer; font-weight: bold;">Technical Details</summary>\n                    <pre style="margin-top: 1rem; overflow-x: auto; font-size: 0.85rem;">${JSON.stringify(this.debugInfo,null,2)}</pre>\n                    <pre style="margin-top: 1rem; overflow-x: auto; font-size: 0.85rem;">${e.stack}</pre>\n                </details>\n                <button onclick="location.reload()" class="btn-primary">Reload Page</button>\n                <p style="margin-top: 1rem; color: #888;">\n                    Check browser console (F12) for detailed error information\n                </p>\n            </div>\n        `}renderTimeoutError(e){e.innerHTML=`\n            <div class="error-container" style="\n                text-align: center;\n                padding: 4rem 2rem;\n                max-width: 800px;\n                margin: 0 auto;\n                background: rgba(255, 165, 0, 0.1);\n                border: 2px solid rgba(255, 165, 0, 0.3);\n                border-radius: 16px;\n            ">\n                <div style="font-size: 4rem; margin-bottom: 1rem;">‚è∞</div>\n                <h1>Loading Timeout</h1>\n                <p style="color: #ff9800; margin: 1rem 0;">\n                    The page took too long to load. This usually indicates a Firebase connection issue.\n                </p>\n                <details style="text-align: left; margin: 2rem 0; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 8px;">\n                    <summary style="cursor: pointer; font-weight: bold;">Debug Information</summary>\n                    <pre style="margin-top: 1rem; overflow-x: auto; font-size: 0.85rem;">${JSON.stringify(this.debugInfo,null,2)}</pre>\n                </details>\n                <div style="margin-top: 2rem;">\n                    <button onclick="location.reload()" class="btn-primary">Retry</button>\n                </div>\n                <p style="margin-top: 1rem; color: #888;">\n                    Check browser console (F12) for detailed loading information\n                </p>\n            </div>\n        `}addDebugPanel(e){const n=document.createElement("div");n.id="home-debug-panel",n.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: rgba(0, 0, 0, 0.9);\n            color: #0f0;\n            padding: 1rem;\n            border-radius: 8px;\n            font-family: monospace;\n            font-size: 0.85rem;\n            max-width: 400px;\n            z-index: 10000;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);\n            border: 1px solid #0f0;\n        ";const o=this.debugInfo.firebaseSuccess?"‚úÖ":this.debugInfo.fallbackUsed?"‚ö†Ô∏è":"‚ùå";n.innerHTML=`\n            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">\n                <strong>üêõ Debug Info</strong>\n                <button onclick="this.parentElement.parentElement.remove()" style="\n                    background: none;\n                    border: 1px solid #0f0;\n                    color: #0f0;\n                    cursor: pointer;\n                    padding: 0.25rem 0.5rem;\n                    border-radius: 4px;\n                ">‚úï</button>\n            </div>\n            <div style="line-height: 1.6;">\n                <div>${o} Firebase: ${this.debugInfo.firebaseSuccess?"Connected":"Failed"}</div>\n                <div>üìä Mythologies: ${this.debugInfo.totalMythologies}</div>\n                <div>‚è±Ô∏è  Load time: ${this.debugInfo.loadDuration}ms</div>\n                <div>üîÑ Fallback: ${this.debugInfo.fallbackUsed?"Yes":"No"}</div>\n                ${this.debugInfo.firebaseError?`<div style="color: #f00;">‚ùå Error: ${this.debugInfo.firebaseError}</div>`:""}\n            </div>\n        `,e.appendChild(n)}attachEventListeners(){document.querySelectorAll(".mythology-card").forEach((e,n)=>{e.addEventListener("mouseenter",()=>{})})}}"undefined"!=typeof module&&module.exports&&(module.exports=HomeViewDebug);