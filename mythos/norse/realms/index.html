<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Norse Realms - Index</title>
    <link rel="stylesheet" href="../../../themes/theme-base.css">
    <link rel="stylesheet" href="../../../themes/corpus-links.css">
<link rel="stylesheet" href="../../../themes/smart-links.css">
<script defer src="../../../themes/smart-links.js"></script>
    <script defer src="../../../themes/theme-animations.js"></script>
    <link rel="stylesheet" href="../../../styles.css">
    <link rel="stylesheet" href="../../../css/spinner.css">
    <link rel="stylesheet" href="../../../css/user-auth.css">
    <script defer src="../../../js/user-auth.js"></script>
    <script defer src="../../../js/user-theories.js"></script>
    <script defer src="../../../js/components/theory-widget.js"></script>
    <script src="../../../themes/theme-picker.js" defer></script>
    <style>
        .hero-section {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: var(--color-text-primary);
            padding: var(--space-12) var(--space-8);
            border-radius: var(--radius-2xl);
            margin-bottom: var(--space-8);
            text-align: center;
            border: 2px solid var(--color-border);
        }

        .realm-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-6);
        }

        .realm-card {
            background: var(--color-surface);
            backdrop-filter: blur(10px);
            border: 2px solid var(--color-primary);
            padding: var(--space-6);
            border-radius: var(--radius-xl);
            transition: all var(--transition-base, 0.3s ease);
        }

        .realm-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-2xl);
            background: var(--color-surface-hover);
        }

        .realm-card h3 {
            color: var(--color-primary);
            margin-top: 0;
        }

        .realm-link {
            display: inline-block;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            padding: var(--space-2) var(--space-6);
            border-radius: var(--radius-full);
            text-decoration: none;
            margin-top: var(--space-4);
            transition: all var(--transition-base, 0.3s ease);
        }

        .realm-link:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-glow);
        }
    </style>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="../../../js/firebase-init.js"></script>
</head>
<body>
<div id="theme-picker-container"></div>

<header>
    <div class="header-content">
        <h1>üåç Norse Realms</h1>
    </div>
</header>
<nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="../../../mythos/index.html">Home</a> ‚Üí
            <a href="../index.html">Norse</a> ‚Üí
            <span>Realms</span>
</nav>

<main>
    <div class="hero-section">
        <h2>The Nine Worlds of Yggdrasil</h2>
        <p style="font-size: 1.1rem; max-width: 800px; margin: 1rem auto;">
            The Norse cosmos consists of nine interconnected realms, all held within the branches
            and roots of Yggdrasil, the World Tree. Each realm houses different beings and serves
            a unique role in the cosmic order, from the divine halls of Asgard to the misty realm
            of the dead in Helheim.
        </p>
    </div>

    <section>
        <div class="realm-grid">
            <div class="realm-card">
                <h3>‚öîÔ∏è Valhalla</h3>
                <p class="deity-title">Hall of the Slain</p>
                <p>
                    Odin's magnificent hall in Asgard where the Einherjar (chosen warriors) feast
                    and fight each day, preparing for Ragnarok. The Valkyries serve mead to the
                    honored dead in this hall with 540 doors, each wide enough for 800 warriors.
                </p>
                <a href="valhalla.html" class="realm-link">Learn More ‚Üí</a>
            </div>

            <div class="realm-card">
                <h3>üíÄ Helheim</h3>
                <p class="deity-title">Realm of the Dead</p>
                <p>
                    The cold, misty realm of the dead, ruled by the goddess Hel. Those who die
                    of old age or sickness come here, unlike warriors who go to Valhalla or
                    Folkvangr. The entrance is guarded by the fearsome hound Garmr.
                </p>
                <a href="helheim.html" class="realm-link">Learn More ‚Üí</a>
            </div>
        </div>
    </section>

<!-- Interlink Panel: Related Across the Mythos -->
<section class="interlink-panel" style="background: rgba(var(--color-surface-rgb), 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(70, 130, 180, 0.2); border-radius: var(--radius-lg, 15px); padding: var(--spacing-xl, 2rem); margin-top: 2rem;">
    <h3 class="interlink-header" style="color: #4682B4; display: flex; align-items: center; gap: 0.5rem;">
        <span class="interlink-icon">üîó</span>
        Related Across the Mythos
    </h3>

    <div class="interlink-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-lg, 1.5rem); margin-top: var(--spacing-lg, 1.5rem);">
        <!-- Archetype Section -->
        <div class="interlink-section">
            <div class="interlink-section-title" style="color: var(--color-text-secondary); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 0.5rem;">Archetype</div>
            <a href="../../../archetypes/index.html" class="archetype-link-card" style="display: block; background: rgba(70, 130, 180, 0.1); border: 1px solid rgba(70, 130, 180, 0.3); border-radius: var(--radius-md, 10px); padding: var(--spacing-md, 1rem); text-decoration: none; transition: all 0.2s ease;">
                <div class="archetype-badge" style="color: #4682B4; font-weight: bold; font-size: 0.9rem;">üåç COSMIC REALMS</div>
                <p class="archetype-context" style="color: var(--color-text-secondary); font-size: 0.9rem; margin: 0.5rem 0;">The Nine Realms represent the layered structure of existence - divine, mortal, and underworld domains connected by the World Tree.</p>
                <span class="see-parallels" style="color: #4682B4; font-size: 0.85rem;">See parallels across cosmologies ‚Üí</span>
            </a>
        </div>

        <!-- Related Within Tradition -->
        <div class="interlink-section">
            <div class="interlink-section-title" style="color: var(--color-text-secondary); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 0.5rem;">Within Norse Mythology</div>
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <a href="../cosmology/yggdrasil.html" style="display: flex; align-items: center; gap: 0.5rem; color: #4682B4; text-decoration: none; padding: 0.5rem; background: rgba(70, 130, 180, 0.05); border-radius: var(--radius-sm, 5px);">
                    <span>üå≥</span> Yggdrasil - The World Tree
                </a>
                <a href="../cosmology/index.html" style="display: flex; align-items: center; gap: 0.5rem; color: #4682B4; text-decoration: none; padding: 0.5rem; background: rgba(70, 130, 180, 0.05); border-radius: var(--radius-sm, 5px);">
                    <span>üåå</span> Norse Cosmology
                </a>
                <a href="../cosmology/ragnarok.html" style="display: flex; align-items: center; gap: 0.5rem; color: #4682B4; text-decoration: none; padding: 0.5rem; background: rgba(70, 130, 180, 0.05); border-radius: var(--radius-sm, 5px);">
                    <span>üî•</span> Ragnarok
                </a>
            </div>
        </div>
    </div>

    <!-- Cross-Cultural Parallels -->
    <div class="parallel-traditions" style="background: rgba(var(--color-surface-rgb), 0.4); border-radius: var(--radius-md, 10px); padding: var(--spacing-lg, 1.5rem); margin-top: var(--spacing-lg, 1.5rem);">
        <h4 style="color: #4682B4; margin-top: 0;">üåç Cross-Cultural Parallels</h4>
        <div class="parallel-grid" style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1rem;">
            <a href="../../greek/cosmology/index.html" class="parallel-card" style="display: flex; align-items: center; gap: 0.5rem; background: rgba(70, 130, 180, 0.1); padding: 0.5rem 1rem; border-radius: var(--radius-full, 20px); text-decoration: none; transition: all 0.2s ease;">
                <span class="tradition-flag">üèõÔ∏è</span>
                <span class="parallel-name" style="color: var(--color-text-primary); font-weight: 500;">Greek Cosmos</span>
                <span class="tradition-label" style="color: var(--color-text-secondary); font-size: 0.8rem;">Greek</span>
            </a>
            <a href="../../hindu/cosmology/index.html" class="parallel-card" style="display: flex; align-items: center; gap: 0.5rem; background: rgba(70, 130, 180, 0.1); padding: 0.5rem 1rem; border-radius: var(--radius-full, 20px); text-decoration: none; transition: all 0.2s ease;">
                <span class="tradition-flag">üïâÔ∏è</span>
                <span class="parallel-name" style="color: var(--color-text-primary); font-weight: 500;">Hindu Lokas</span>
                <span class="tradition-label" style="color: var(--color-text-secondary); font-size: 0.8rem;">Hindu</span>
            </a>
            <a href="../../buddhist/cosmology/realms.html" class="parallel-card" style="display: flex; align-items: center; gap: 0.5rem; background: rgba(70, 130, 180, 0.1); padding: 0.5rem 1rem; border-radius: var(--radius-full, 20px); text-decoration: none; transition: all 0.2s ease;">
                <span class="tradition-flag">‚ò∏Ô∏è</span>
                <span class="parallel-name" style="color: var(--color-text-primary); font-weight: 500;">Buddhist Realms</span>
                <span class="tradition-label" style="color: var(--color-text-secondary); font-size: 0.8rem;">Buddhist</span>
            </a>
            <a href="../../egyptian/cosmology/index.html" class="parallel-card" style="display: flex; align-items: center; gap: 0.5rem; background: rgba(70, 130, 180, 0.1); padding: 0.5rem 1rem; border-radius: var(--radius-full, 20px); text-decoration: none; transition: all 0.2s ease;">
                <span class="tradition-flag">üè∫</span>
                <span class="parallel-name" style="color: var(--color-text-primary); font-weight: 500;">Egyptian Cosmos</span>
                <span class="tradition-label" style="color: var(--color-text-secondary); font-size: 0.8rem;">Egyptian</span>
            </a>
        </div>
    </div>

    <!-- See Also Section -->
    <div class="see-also-section" style="margin-top: var(--spacing-lg, 1.5rem); padding-top: var(--spacing-lg, 1.5rem); border-top: 1px solid rgba(70, 130, 180, 0.2);">
        <h4 style="color: #4682B4; margin-top: 0;">üìö See Also</h4>
        <div class="see-also-links" style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 0.75rem;">
            <a href="valhalla.html" class="see-also-link" style="display: flex; align-items: center; gap: 0.25rem; color: #4682B4; text-decoration: none; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm, 5px); transition: all 0.2s ease;">
                <span>‚öîÔ∏è</span> Valhalla
            </a>
            <a href="helheim.html" class="see-also-link" style="display: flex; align-items: center; gap: 0.25rem; color: #4682B4; text-decoration: none; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm, 5px); transition: all 0.2s ease;">
                <span>üíÄ</span> Helheim
            </a>
            <a href="../deities/index.html" class="see-also-link" style="display: flex; align-items: center; gap: 0.25rem; color: #4682B4; text-decoration: none; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm, 5px); transition: all 0.2s ease;">
                <span>‚ö°</span> Norse Deities
            </a>
            <a href="../creatures/jotnar.html" class="see-also-link" style="display: flex; align-items: center; gap: 0.25rem; color: #4682B4; text-decoration: none; padding: 0.25rem 0.5rem; border-radius: var(--radius-sm, 5px); transition: all 0.2s ease;">
                <span>üèîÔ∏è</span> Jotnar (Giants)
            </a>
        </div>
    </div>
</section>

<!-- User Theory Widget -->
<section class="theory-widget-container" style="margin-top: 3rem;">
  <div data-theory-widget
       data-page="norse/realms/index"
       data-title="Norse Realms - The Nine Worlds"
       data-mode="inline"></div>
</section>
</main>

<footer>
    <p>
        <strong>Norse Realms</strong> - The Nine Worlds Connected by Yggdrasil<br>
        <a href="../../../mythos/index.html">World Mythos Home</a> |
        <a href="../index.html">Norse Tradition</a>
    </p>
</footer>

<!-- Authentication Modal -->
<div id="auth-modal" class="auth-modal">
    <div class="auth-modal-content">
        <button class="auth-modal-close" onclick="window.userAuth.hideAuthModal()">&times;</button>

        <h2 id="auth-modal-title" class="auth-modal-title">Login to Your Account</h2>

        <div id="auth-message" class="auth-message"></div>

        <!-- Login Form -->
        <form id="login-form" class="auth-form" onsubmit="handleLogin(event)">
            <div class="auth-form-group">
                <label for="login-username">Username</label>
                <input type="text" id="login-username" name="username" required autocomplete="username">
            </div>

            <div class="auth-form-group">
                <label for="login-password">Password</label>
                <input type="password" id="login-password" name="password" required autocomplete="current-password">
            </div>

            <button type="submit" class="auth-submit-btn">Login</button>

            <div class="auth-switch">
                Don't have an account?
                <a class="auth-switch-link" onclick="window.userAuth.switchAuthMode('signup')">Sign up</a>
            </div>
        </form>

        <!-- Signup Form -->
        <form id="signup-form" class="auth-form" style="display: none;" onsubmit="handleSignup(event)">
            <div class="auth-form-group">
                <label for="signup-username">Username</label>
                <input type="text" id="signup-username" name="username" required
                       minlength="3" autocomplete="username">
            </div>

            <div class="auth-form-group">
                <label for="signup-email">Email</label>
                <input type="email" id="signup-email" name="email" required autocomplete="email">
            </div>

            <div class="auth-form-group">
                <label for="signup-password">Password</label>
                <input type="password" id="signup-password" name="password" required
                       minlength="6" autocomplete="new-password">
            </div>

            <button type="submit" class="auth-submit-btn">Create Account</button>

            <div class="auth-switch">
                Already have an account?
                <a class="auth-switch-link" onclick="window.userAuth.switchAuthMode('login')">Login</a>
            </div>
        </form>
    </div>
</div>

<!-- User Display (shown when logged in) -->
<div id="user-nav" style="position: fixed; top: 1rem; right: 1rem; z-index: 1000;">
    <!-- Login/Signup buttons (shown when logged out) -->
    <div data-auth-show="loggedOut" style="display: flex; gap: 0.5rem;">
        <button class="auth-submit-btn" onclick="window.userAuth.showLoginModal()" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
            Login
        </button>
        <button class="auth-submit-btn" onclick="window.userAuth.showSignupModal()" style="padding: 0.5rem 1rem; font-size: 0.9rem; background: linear-gradient(135deg, #22c55e, #16a34a);">
            Sign Up
        </button>
    </div>

    <!-- User menu (shown when logged in) -->
    <div data-auth-show="loggedIn" style="display: none;">
        <div class="user-display" onclick="toggleUserDropdown()">
            <img data-auth-avatar src="" alt="User Avatar" class="user-avatar">
            <span data-auth-username class="user-username"></span>
            <span>‚ñº</span>
        </div>

        <div id="user-dropdown" class="user-dropdown">
            <a href="/theories/user-submissions/index.html" class="user-dropdown-item">My Theories</a>
            <a href="/profile.html" class="user-dropdown-item">Profile Settings</a>
            <div style="border-top: 1px solid rgba(147, 51, 234, 0.3); margin: 0.5rem 0;"></div>
            <button class="user-logout-btn" onclick="window.userAuth.logout()">Logout</button>
        </div>
    </div>
</div>

<script>
// Auth form handlers
function handleLogin(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const username = formData.get('username');
    const password = formData.get('password');

    const result = window.userAuth.login(username, password);

    if (result.success) {
        window.userAuth.showAuthMessage(result.message, 'success');
        setTimeout(() => {
            window.userAuth.hideAuthModal();
        }, 1000);
    } else {
        window.userAuth.showAuthMessage(result.error, 'error');
    }
}

function handleSignup(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const username = formData.get('username');
    const email = formData.get('email');
    const password = formData.get('password');

    const result = window.userAuth.signup(username, email, password);

    if (result.success) {
        window.userAuth.showAuthMessage(result.message + ' You can now login.', 'success');
        setTimeout(() => {
            window.userAuth.switchAuthMode('login');
            window.userAuth.clearAuthMessages();
        }, 2000);
    } else {
        window.userAuth.showAuthMessage(result.error, 'error');
    }
}

// User dropdown toggle
function toggleUserDropdown() {
    const dropdown = document.getElementById('user-dropdown');
    dropdown.classList.toggle('show');
}

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
    if (!e.target.closest('.user-display') && !e.target.closest('#user-dropdown')) {
        document.getElementById('user-dropdown')?.classList.remove('show');
    }
});
</script>

</body>
</html>
