<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Maya Deities - The Maya Pantheon</title>
    <link href="../../../themes/theme-base.css" rel="stylesheet"/>
    <link rel="stylesheet" href="../../../themes/mythology-colors.css">
    <link rel="stylesheet" href="../../../css/spinner.css">
    <link href="../../../styles.css" rel="stylesheet"/>
    <link href="../../../themes/corpus-links.css" rel="stylesheet"/>
<link rel="stylesheet" href="../../../themes/smart-links.css">
<script defer src="../../../themes/smart-links.js"></script>
    <script defer src="../../../themes/theme-animations.js"></script>
    <script defer src="../../../themes/theme-picker.js"></script>
    <!-- Firebase Auth System -->
    <link rel="stylesheet" href="../../../css/user-auth.css">
    <script src="../../../js/firebase-auth.js"></script>
    <script src="../../../js/auth-guard.js"></script>
    <script src="../../../js/components/google-signin-button.js"></script>
    
<!-- Submission Link System -->
<script src="../../../js/submission-context.js"></script>
<script src="../../../js/components/submission-link.js"></script>
<link rel="stylesheet" href="../../../css/submission-link.css">


<!-- Universal Entity Renderer -->
<script defer src="../../../js/universal-entity-renderer.js"></script>
<link rel="stylesheet" href="../../../css/entity-renderer.css">
  <link href="/css/entity-icons.css" rel="stylesheet"/>
</head>
<body>
    <div id="theme-picker-container"></div>
    <header>
        <div class="header-content">
            <h1>Maya Deities - The Maya Pantheon</h1>
            <div id="user-auth-nav"></div>
        </div>
    </header>
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="../../../mythos/index.html">Home</a> >
        <a href="../index.html">Maya</a> >
        <span>Deities</span>
    </nav>
    <main data-mythology="mayan">
        <div class="hero-section">
            <h2>Gods of the Three Realms</h2>
            <p style="font-size: 1.2rem; max-width: 800px; margin: 1rem auto;">
                The Maya pantheon encompasses hundreds of deities who dwell in the heavens, the earth, and the underworld.
                From the supreme creator Itzamna to the feathered serpent Kukulkan, from the rain god Chaac to the terrifying
                lords of Xibalba, these are the divine beings who shaped Maya civilization and continue to influence
                the traditions of their descendants today.
            </p>
        </div>

        <section>
            <h2 style="color: var(--color-primary);">Major Deities</h2>
            <p>
                The most powerful and widely worshipped gods of the Maya world, each presiding over essential aspects
                of existence - from the cycles of creation to the life-giving rains, from the moon's phases to death and rebirth.
            </p>
            
<!-- Dynamic Entity Grid (Firebase-Powered) -->
<div id="entity-grid" class="pantheon-grid" data-mythology="mayan" data-entity-type="deity">
    <!-- Entities will be loaded dynamically from Firebase -->
    <div class="loading-placeholder">
        <div class="spinner"></div>
        <p>Loading deities...</p>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Check if Firebase and renderer are available
    if (typeof firebase === 'undefined' || !firebase.firestore) {
        console.error('Firebase not initialized');
        return;
    }

    if (typeof UniversalEntityRenderer === 'undefined') {
        console.error('UniversalEntityRenderer not loaded');
        return;
    }

    const renderer = new UniversalEntityRenderer();
    const db = firebase.firestore();
    const gridElement = document.getElementById('entity-grid');

    // Query Firebase for mayan deities
    db.collection('deities')
        .where('mythology', '==', 'mayan')
        .orderBy('name')
        .get()
        .then(snapshot => {
            if (snapshot.empty) {
                gridElement.innerHTML = '<p class="no-results">No deities found in database. Check back soon!</p>';
                return;
            }

            const entities = snapshot.docs.map(doc => ({
                id: doc.id,
                ...doc.data()
            }));

            // Render the entities using the universal renderer
            gridElement.innerHTML = renderer.renderGrid(entities, {
                entityType: 'deity',
                mythology: 'mayan',
                showIcons: true,
                enableClick: true
            });

            console.log(`Loaded ${entities.length} mayan deities from Firebase`);
        })
        .catch(error => {
            console.error('Error loading deities:', error);
            gridElement.innerHTML = '<p class="error-message">Error loading deities. Please try again later.</p>';
        });
});
</script>

<!-- Fallback: Static deity cards (shown if JavaScript disabled or Firebase unavailable) -->
<noscript>
<div class="pantheon-grid">
                <div class="deity-card" onclick="window.location.href='kukulkan.html'">
                    <div class="hero-icon-display has-icon">
    <div class="entity-icon-container">
      <img src="/icons/deity-icon.svg"
           alt="Entity icon"
           class="entity-icon hero-size"
           loading="lazy" />
    </div>
     &#128013;
    </div>
</noscript>
<div class="static-fallback" style="display: none;">
<div class="pantheon-grid">
                <div class="deity-card" onclick="window.location.href='kukulkan.html'">
                    <div class="hero-icon-display">&#128013;</div>
</div>
</section>

        <div class="section-divider"></div>

        <section>
            <h2 style="color: var(--color-primary);">Understanding the Maya Pantheon</h2>

            <h3 style="color: var(--color-secondary);">God Letters and Classification</h3>
            <p>
                Early scholars assigned letters (A through P) to Maya deities based on their appearance in codices,
                as their actual names were often unknown. Thus "God D" referred to Itzamna, "God B" to Chaac, and
                "God A" to the death god. Modern scholarship has recovered many original names through advances in
                deciphering Maya hieroglyphics, revealing a rich theological vocabulary.
            </p>

            <h3 style="color: var(--color-secondary); margin-top: 1.5rem;">Multiple Aspects</h3>
            <p>
                Maya deities often appeared in multiple forms or aspects. Chaac, for example, manifested as four
                separate gods associated with the cardinal directions, each bringing different types of rain.
                Ixchel appeared both as a young maiden and as an aged crone. This multiplicity reflects the Maya
                understanding of divine power as multifaceted and contextual.
            </p>

            <h3 style="color: var(--color-secondary); margin-top: 1.5rem;">Lords of Xibalba</h3>
            <p>
                The underworld (<span style="font-style: italic; color: var(--color-secondary);">Xibalba</span> - "Place of Fear")
                was ruled by twelve death gods who tested and tormented souls through various trials. The <em>Popol Vuh</em>
                names several, including Hun Came ("One Death") and Vucub Came ("Seven Death"), as well as gods of
                disease like Xiquiripat ("Flying Scab") and Cuchumaquic ("Blood Gatherer"). The Hero Twins' victory
                over these lords established the pattern of death and resurrection at the heart of Maya religion.
            </p>
        </section>

        <!-- Interlink Panel -->
        <section class="interlink-panel" style="margin-top: 3rem;">
            <h3 class="interlink-header">
                <span class="interlink-icon">&#128279;</span>
                Related Across the Mythos
            </h3>
            <div class="interlink-grid">
                <div class="interlink-section">
                    <div class="interlink-section-title">Similar Pantheons</div>
                    <div class="parallel-grid">
                        <a href="../../aztec/deities/index.html" class="parallel-card">
                            <span class="tradition-flag">&#127744;</span>
                            <span class="parallel-name">Aztec Gods</span>
                            <span class="tradition-label">Mesoamerican parallels</span>
                        </a>
                        <a href="../../greek/deities/index.html" class="parallel-card">
                            <span class="tradition-flag">&#127466;</span>
                            <span class="parallel-name">Greek Gods</span>
                            <span class="tradition-label">Olympian pantheon</span>
                        </a>
                        <a href="../../egyptian/deities/index.html" class="parallel-card">
                            <span class="tradition-flag">&#9765;</span>
                            <span class="parallel-name">Egyptian Gods</span>
                            <span class="tradition-label">Afterlife focus</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- See Also Section -->
        <div class="see-also-section">
            <h4>See Also</h4>
            <div class="see-also-links">
                <a href="../index.html" class="see-also-link">
                    <span>&#127793;</span> Maya Mythology Overview
                </a>
                <a href="../../aztec/deities/index.html" class="see-also-link">
                    <span>&#127744;</span> Aztec Deities
                </a>
                <a href="../../greek/deities/index.html" class="see-also-link">
                    <span>&#9889;</span> Greek Deities
                </a>
                <a href="../../../archetypes/dying-god/index.html" class="see-also-link">
                    <span>&#128128;</span> Dying God Archetype
                </a>
            </div>
        </div>
    </main>
    <footer>
        <p>
            <strong>Maya Deities</strong> - World Mythos Explorer<br/>
            <a href="../../../mythos/index.html">World Mythos Home</a> |
            <a href="../index.html">Maya Tradition</a>
        </p>
    </footer>

    <!-- Firebase SDK (CDN) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="../../../firebase-config.js"></script>

    <!-- Initialize Auth UI -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Google Sign-In button in header
            if (window.GoogleSignInButton) {
                const authNav = document.getElementById('user-auth-nav');
                if (authNav) {
                    window.GoogleSignInButton.injectIntoElement(authNav, {
                        showUserInfo: true,
                        showAvatar: true,
                        compact: true
                    });
                }
            }
        });
    </script>

<!-- Auto-inject submission button -->
<script>
    if (window.SubmissionLink) {
        window.SubmissionLink.autoInject();
    }
</script>

</body>
</html>
