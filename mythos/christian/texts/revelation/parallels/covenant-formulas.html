<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Covenant Formulas - "I Will Be Their God, They Will Be My People"</title>
<link href="../../../../../themes/theme-base.css" rel="stylesheet"/>
<link href="../../../../../styles.css" rel="stylesheet"/>
<link href="../../../../../themes/corpus-links.css" rel="stylesheet"/>
<link rel="stylesheet" href="../../../../../themes/smart-links.css">
<link rel="stylesheet" href="../../../../../css/spinner.css">
<link rel="stylesheet" href="../../../../../css/user-auth.css">
<script defer src="../../../../../themes/smart-links.js"></script>
<script defer src="../../../../../themes/theme-animations.js"></script>
<script defer src="../../../../../themes/theme-picker.js"></script>
<script defer src="../../../../../js/user-auth.js"></script>
<script defer src="../../../../../js/user-theories.js"></script>
<script defer src="../../../../../js/components/theory-widget.js"></script>
<style>
        h1, h2, h3, h4 { color: var(--color-primary); }
        .breadcrumb { position: sticky; top: 60px; width: 100%; z-index: 999; background: rgba(var(--color-surface-rgb), 0.9); backdrop-filter: blur(12px); padding: var(--spacing-xs) var(--spacing-lg); font-size: var(--font-size-sm); border-bottom: 1px solid rgba(var(--color-primary-rgb), 0.15); }
        .breadcrumb a { color: var(--color-primary); text-decoration: none; }
        .breadcrumb a:hover { color: var(--color-secondary); text-decoration: underline; }
        .glass-card { background: rgba(var(--color-surface-rgb), 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(var(--color-primary-rgb), 0.2); border-radius: var(--radius-lg); padding: var(--spacing-xl); margin: 2rem 0; box-shadow: var(--shadow-lg); transition: all var(--transition-base); }
        .glass-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-xl); }
        .glass-card h3 { color: var(--color-primary); margin-top: 0; }
        .comparison-table { width: 100%; border-collapse: collapse; margin: 2rem 0; background: rgba(var(--color-surface-rgb), 0.4); border-radius: var(--radius-md); overflow: hidden; }
        .comparison-table th { background: rgba(var(--color-primary-rgb), 0.2); color: var(--color-primary); padding: 1rem; text-align: left; font-weight: 700; border-bottom: 2px solid rgba(var(--color-primary-rgb), 0.3); }
        .comparison-table td { padding: 1rem; border-bottom: 1px solid rgba(var(--color-primary-rgb), 0.1); vertical-align: top; }
        .comparison-table tr:hover { background: rgba(var(--color-primary-rgb), 0.05); }
        .verse-ref { font-weight: 700; color: var(--color-primary); font-size: 0.9rem; }
        .verse-text { font-style: italic; margin: 0.5rem 0; padding-left: 1rem; border-left: 3px solid rgba(var(--color-primary-rgb), 0.3); line-height: 1.7; }
        .connection-box { background: rgba(var(--color-secondary-rgb), 0.1); padding: 1rem; border-radius: var(--radius-md); margin: 1rem 0; border-left: 4px solid var(--color-secondary); }

        .covenant-formula {
            background: linear-gradient(120deg, rgba(59, 130, 246, 0.2), rgba(168, 85, 247, 0.2));
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 1.05em;
        }

        .timeline-container {
            position: relative;
            padding-left: 3rem;
            margin: 3rem 0;
        }

        .timeline-container::before {
            content: '';
            position: absolute;
            left: 1rem;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg,
                rgba(59, 130, 246, 0.5) 0%,
                rgba(168, 85, 247, 0.5) 50%,
                rgba(251, 191, 36, 0.5) 100%);
            border-radius: 2px;
        }

        .timeline-event {
            position: relative;
            margin: 2rem 0;
            background: rgba(var(--color-surface-rgb), 0.5);
            border: 2px solid rgba(var(--color-primary-rgb), 0.2);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            transition: all var(--transition-base);
        }

        .timeline-event:hover {
            transform: translateX(8px);
            border-color: var(--color-secondary);
            box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.15);
        }

        .timeline-event::before {
            content: attr(data-era);
            position: absolute;
            left: -3.5rem;
            top: 50%;
            transform: translateY(-50%);
            width: 2.5rem;
            height: 2.5rem;
            background: var(--color-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            color: var(--color-background);
            box-shadow: 0 0 0 4px var(--color-background);
        }

        .timeline-event h4 {
            margin-top: 0;
            color: var(--color-secondary);
            font-size: 1.2rem;
        }
    </style>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- Firebase Config -->
    <script src="/js/firebase-config.js"></script>

    <!-- Auth Guard -->
    <script src="/js/auth-guard.js"></script>
    <script src="/js/components/google-signin-button.js"></script>

    <style>
        /* Responsive table styling */
        @media (max-width: 768px) {
            table {
                display: block;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .comparison-table, .contrast-table {
                font-size: 0.85rem;
            }

            .comparison-table th,
            .comparison-table td,
            .contrast-table th,
            .contrast-table td {
                padding: 0.5rem;
            }
        }

        /* Info notice responsive */
        @media (max-width: 640px) {
            .info-notice {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div id="theme-picker-container"></div>
<div id="theme-picker"></div>

<header>
    <div class="header-content">
        <h1>Covenant Formulas Across Scripture</h1>
        <p>"I Will Be Their God, They Will Be My People"</p>
    </div>
</header>

<nav class="breadcrumb">
    <a href="../../../../../mythos/index.html">Home</a> ‚Üí
    <a href="../../../../../mythos/christian/index.html">Christian</a> ‚Üí
    <a href="../index.html">Revelation</a> ‚Üí
    <a href="../old-testament-parallels.html">OT Parallels</a> ‚Üí
    <span>Covenant Formulas</span>
</nav>

<main>
    <!-- Static Content Notice -->
    <div class="info-notice" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(59, 130, 246, 0.1));
         border: 2px solid var(--color-primary, #667eea); border-radius: 12px; padding: 1rem 1.5rem;
         margin: 1.5rem 0; display: flex; align-items: center; gap: 1rem;">
        <span style="font-size: 1.5rem;">&#128214;</span>
        <p style="margin: 0; line-height: 1.6;">
            <strong>Research Content:</strong> This page contains static comparative and theological research.
            The content may be migrated to the Firebase database in a future update for enhanced features.
        </p>
    </div>
<div class="glass-card">
<h2>Introduction: The Heart of Every Covenant</h2>
<p>
            Throughout Scripture, from Abraham to the New Jerusalem, God establishes His covenants with <strong>one central promise</strong>:
            <span class="covenant-formula">"I will be their God, and they will be my people."</span>
        </p>
<p>
            This covenant formula appears at every major turning point in redemptive history. It is the thread that ties together
            the Abrahamic covenant, the Exodus deliverance, the Sinai law, the promise of return from exile, the new covenant in
            Christ, and the ultimate fulfillment in Revelation 21. This page traces the formula from Genesis to the New Jerusalem,
            showing that <strong>all of Scripture tells one covenant story</strong>.
        </p>
</div>

<section>
<h2>The Covenant Formula Timeline</h2>

<div class="timeline-container">
<div class="timeline-event" data-era="1">
<h4>1. Abraham - Covenant of Promise</h4>
<p class="verse-ref">Genesis 17:7-8</p>
<p class="verse-text">
                    "I will establish my covenant as an everlasting covenant between me and you and your descendants after you
                    for the generations to come, <span class="covenant-formula">to be your God and the God of your descendants
                    after you</span>. The whole land of Canaan, where you now reside as a foreigner, I will give as an everlasting
                    possession to you and your descendants after you; <span class="covenant-formula">and I will be their God</span>."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> God initiates covenant with Abraham‚Äîpromises land, descendants, and divine relationship.
                    The formula appears for the first time: "I will be their God." This is the foundation.</p>
</div>
</div>

<div class="timeline-event" data-era="2">
<h4>2. Exodus - Covenant of Deliverance</h4>
<p class="verse-ref">Exodus 6:7</p>
<p class="verse-text">
                    "<span class="covenant-formula">I will take you as my own people, and I will be your God</span>. Then you will
                    know that I am the LORD your God, who brought you out from under the yoke of the Egyptians."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> God delivers Israel from Egypt. The covenant formula is now linked to redemption‚ÄîGod
                    brings them out of bondage to make them His people. Exodus = salvation event establishing covenant relationship.</p>
</div>
</div>

<div class="timeline-event" data-era="3">
<h4>3. Sinai - Covenant of Law</h4>
<p class="verse-ref">Leviticus 26:12</p>
<p class="verse-text">
                    "<span class="covenant-formula">I will walk among you and be your God, and you will be my people</span>."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> God gives the law at Sinai and establishes the tabernacle. The formula emphasizes
                    <strong>God's presence</strong> ("I will walk among you"). The tabernacle makes covenant relationship tangible‚ÄîGod
                    dwells with His people.</p>
</div>
</div>

<div class="timeline-event" data-era="4">
<h4>4. Jeremiah - Covenant of Restoration (New Covenant Prophesied)</h4>
<p class="verse-ref">Jeremiah 31:33</p>
<p class="verse-text">
                    "'This is the covenant I will make with the people of Israel after that time,' declares the LORD. 'I will put
                    my law in their minds and write it on their hearts. <span class="covenant-formula">I will be their God, and they
                    will be my people</span>.'"
                </p>
<p class="verse-ref">Jeremiah 32:38</p>
<p class="verse-text">
                    "<span class="covenant-formula">They will be my people, and I will be their God</span>."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> Promised during exile. The <strong>new covenant</strong> is internal (written on hearts,
                    not stone tablets), universal (all will know God), and based on forgiveness. The formula remains, but now points
                    to transformation from within.</p>
</div>
</div>

<div class="timeline-event" data-era="5">
<h4>5. Ezekiel - Covenant of Permanent Dwelling</h4>
<p class="verse-ref">Ezekiel 36:28</p>
<p class="verse-text">
                    "Then you will live in the land I gave your ancestors; <span class="covenant-formula">you will be my people,
                    and I will be your God</span>."
                </p>
<p class="verse-ref">Ezekiel 37:27</p>
<p class="verse-text">
                    "<span class="covenant-formula">My dwelling place will be with them; I will be their God, and they will be
                    my people</span>."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> Vision of restoration‚Äîdry bones come to life, new temple, God's glory returns. The formula
                    now emphasizes <strong>God's dwelling</strong> with His people permanently. Ezekiel sees beyond exile to eternal
                    restoration.</p>
</div>
</div>

<div class="timeline-event" data-era="6">
<h4>6. Zechariah - Covenant Reaffirmed After Exile</h4>
<p class="verse-ref">Zechariah 8:8</p>
<p class="verse-text">
                    "I will bring them back to live in Jerusalem; <span class="covenant-formula">they will be my people, and I will
                    be faithful and righteous to them as their God</span>."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> Return from Babylonian exile. God reaffirms His covenant commitment despite Israel's
                    unfaithfulness. The formula assures continuity‚ÄîGod hasn't abandoned His people.</p>
</div>
</div>

<div class="timeline-event" data-era="7">
<h4>7. 2 Corinthians - Covenant Applied to the Church</h4>
<p class="verse-ref">2 Corinthians 6:16</p>
<p class="verse-text">
                    "For we are the temple of the living God. As God has said: <span class="covenant-formula">'I will live with them
                    and walk among them, and I will be their God, and they will be my people'</span>."
                </p>
<div class="connection-box">
<p><strong>Context:</strong> Paul applies the covenant formula to the church. Believers‚ÄîJew and Gentile‚Äîare now the
                    temple where God dwells. The covenant expands universally through Christ.</p>
</div>
</div>

<div class="timeline-event" data-era="8">
<h4>8. Revelation 21 - Covenant Consummated Forever</h4>
<p class="verse-ref">Revelation 21:3, 7</p>
<p class="verse-text">
                    "And I heard a loud voice from the throne saying, 'Look! <span class="covenant-formula">God's dwelling place is
                    now among the people, and he will dwell with them. They will be his people, and God himself will be with them and
                    be their God</span>.' (21:3)<br/><br/>
                    'Those who are victorious will inherit all this, and <span class="covenant-formula">I will be their God and they
                    will be my children</span>.' (21:7)"
                </p>
<div class="connection-box">
<p><strong>Context:</strong> <strong>FINAL FULFILLMENT.</strong> God dwells with humanity forever in the New Jerusalem.
                    Every previous covenant pointed to this‚ÄîAbraham's promise, Sinai's law, Jeremiah's new covenant, Ezekiel's temple
                    vision all culminate here. The formula reaches its ultimate expression: God directly, eternally, perfectly dwelling
                    with His people in restored creation.</p>
</div>
</div>
</div>
</section>

<section>
<h2>The Formula Across Key Covenants</h2>

<table class="comparison-table">
<thead>
<tr>
<th width="20%">Covenant</th>
<th width="30%">Reference</th>
<th width="50%">Formula Text</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Abrahamic</strong></td>
<td>Genesis 17:7-8</td>
<td>"I will be their God"</td>
</tr>
<tr>
<td><strong>Exodus</strong></td>
<td>Exodus 6:7</td>
<td>"I will take you as my own people, and I will be your God"</td>
</tr>
<tr>
<td><strong>Sinai</strong></td>
<td>Leviticus 26:12</td>
<td>"I will walk among you and be your God, and you will be my people"</td>
</tr>
<tr>
<td><strong>Davidic</strong></td>
<td>2 Samuel 7:24</td>
<td>"You have established your people Israel as your very own forever, and you, LORD, have become their God"</td>
</tr>
<tr>
<td><strong>New Covenant</strong></td>
<td>Jeremiah 31:33</td>
<td>"I will be their God, and they will be my people"</td>
</tr>
<tr>
<td><strong>Restoration</strong></td>
<td>Ezekiel 37:27</td>
<td>"My dwelling place will be with them; I will be their God, and they will be my people"</td>
</tr>
<tr>
<td><strong>Church</strong></td>
<td>2 Corinthians 6:16</td>
<td>"I will live with them and walk among them, and I will be their God, and they will be my people"</td>
</tr>
<tr style="background: rgba(251, 191, 36, 0.1);">
<td><strong>New Jerusalem</strong></td>
<td>Revelation 21:3, 7</td>
<td>"God's dwelling place is now among the people... They will be his people, and God himself will be with them and be their God"</td>
</tr>
</tbody>
</table>
</section>

<section>
<h2>Theological Progression: One Covenant, Escalating Intimacy</h2>

<div class="glass-card">
<h3>The Pattern of Increasing Nearness</h3>

<table class="comparison-table">
<thead>
<tr>
<th width="25%">Stage</th>
<th width="25%">God's Presence</th>
<th width="25%">Relationship</th>
<th width="25%">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Abraham</strong></td>
<td>Appears occasionally</td>
<td>Promise and faith</td>
<td>Wandering patriarch</td>
</tr>
<tr>
<td><strong>Exodus</strong></td>
<td>Pillar of cloud/fire</td>
<td>Redeemer and deliverer</td>
<td>Wilderness journey</td>
</tr>
<tr>
<td><strong>Sinai/Tabernacle</strong></td>
<td>Shekinah in Holy of Holies</td>
<td>Dwells among them (separated)</td>
<td>Tent in center of camp</td>
</tr>
<tr>
<td><strong>Temple</strong></td>
<td>Glory fills temple</td>
<td>Enthroned in Jerusalem</td>
<td>Central sanctuary</td>
</tr>
<tr>
<td><strong>Exile</strong></td>
<td>Glory departs (Ezek 10-11)</td>
<td>Distant but promises return</td>
<td>Babylon (separation)</td>
</tr>
<tr>
<td><strong>New Covenant</strong></td>
<td>Law written on hearts</td>
<td>Internal transformation</td>
<td>Within believers</td>
</tr>
<tr>
<td><strong>Incarnation</strong></td>
<td>God becomes flesh (John 1:14)</td>
<td>Immanuel - God with us</td>
<td>Jesus tabernacles among us</td>
</tr>
<tr>
<td><strong>Church/Holy Spirit</strong></td>
<td>Spirit indwells believers</td>
<td>Living temples (1 Cor 6:19)</td>
<td>Individual and corporate</td>
</tr>
<tr style="background: rgba(251, 191, 36, 0.1);">
<td><strong>New Jerusalem</strong></td>
<td>Face-to-face (Rev 22:4)</td>
<td>Perfect, eternal dwelling</td>
<td>New creation - God is the temple (Rev 21:22)</td>
</tr>
</tbody>
</table>

<h3>The Escalation of "I Will Be Their God"</h3>
<ol>
<li><strong>Promise</strong> (Abraham): God will be their God‚Äîfuture tense, based on faith</li>
<li><strong>Redemption</strong> (Exodus): God brings them out to make them His people‚Äîcovenant through deliverance</li>
<li><strong>Presence</strong> (Sinai): God walks among them‚Äîbut separated by veil, mediated by priests</li>
<li><strong>Internal</strong> (New Covenant): God writes law on hearts‚Äîrelationship from within, not external</li>
<li><strong>Incarnation</strong> (Jesus): God becomes one of us‚Äî"The Word became flesh and dwelt among us" (John 1:14 = literally "tabernacled")</li>
<li><strong>Indwelling</strong> (Church): Spirit lives in believers‚Äî"You are the temple of God" (1 Cor 3:16)</li>
<li><strong>Consummation</strong> (Revelation 21): God dwells with humanity eternally‚Äîno more separation, no veil, face-to-face</li>
</ol>

<p>
                Each stage moves <strong>closer</strong>. The covenant formula remains constant, but God's nearness increases until,
                in Revelation 21, there is <strong>no distance at all</strong>. God doesn't just visit, appear, dwell in a tent, or
                indwell by Spirit‚ÄîHe <strong>IS</strong> the temple (Rev 21:22), and His people see His face (Rev 22:4).
            </p>
</div>
</section>

<section>
<h2>Revelation 21:3 - The Climax of All Covenants</h2>

<div class="glass-card">
<h3>Every Promise Converges Here</h3>

<p class="verse-ref" style="font-size: 1.1rem;">Revelation 21:3</p>
<p class="verse-text" style="font-size: 1.15rem; padding: 1.5rem; background: rgba(var(--color-primary-rgb), 0.1); border-left: 6px solid var(--color-primary);">
                "And I heard a loud voice from the throne saying, 'Look! <span class="covenant-formula">God's dwelling place is
                now among the people, and he will dwell with them. They will be his people, and God himself will be with them and
                be their God</span>.'"
            </p>

<h4>What This Verse Fulfills:</h4>
<ul>
<li><strong>Genesis 17:8:</strong> "I will be their God" ‚Üí Now fulfilled eternally</li>
<li><strong>Exodus 6:7:</strong> "I will take you as my own people" ‚Üí All nations now His people</li>
<li><strong>Leviticus 26:12:</strong> "I will walk among you" ‚Üí Now dwells permanently, no separation</li>
<li><strong>Jeremiah 31:33:</strong> "I will be their God, they will be my people" ‚Üí New covenant consummated</li>
<li><strong>Ezekiel 37:27:</strong> "My dwelling place will be with them" ‚Üí The tabernacle/temple is now the entire new creation</li>
<li><strong>2 Corinthians 6:16:</strong> "I will live with them and walk among them" ‚Üí From individual/corporate indwelling to cosmic dwelling</li>
</ul>

<p>
                <strong>Notice the intensification:</strong> Revelation 21:3 doesn't just say "I will be their God"‚Äîit says "God's
                dwelling place (œÉŒ∫Œ∑ŒΩŒÆ = tabernacle/tent) is NOW among the people, and He WILL DWELL with them. They will be His
                people, and God HIMSELF will be with them." Every element of the covenant formula is emphasized, expanded, and made
                ultimate.
            </p>

<h4>Three-Fold Emphasis</h4>
<ol>
<li><strong>"God's dwelling place is now among the people"</strong> - The tabernacle/temple is no longer a building but God's presence filling all creation</li>
<li><strong>"He will dwell with them"</strong> - Permanent, eternal residence (not temporary visits or appearances)</li>
<li><strong>"God himself will be with them"</strong> - Not angels, not mediators, not priests‚ÄîGOD HIMSELF, directly</li>
</ol>

<p style="font-size: 1.1rem; font-weight: 700; color: var(--color-secondary); margin-top: 2rem;">
                This is the goal of all redemptive history. Every covenant pointed here. Every promise finds fulfillment in this
                eternal dwelling of God with humanity in the new creation.
            </p>
</div>
</section>

<section>
<h2>From Eden to New Jerusalem: Full Circle</h2>

<div class="glass-card">
<h3>The Covenant Story Arc</h3>

<table class="comparison-table">
<thead>
<tr>
<th width="50%">Genesis 1-3 (Original Creation)</th>
<th width="50%">Revelation 21-22 (New Creation)</th>
</tr>
</thead>
<tbody>
<tr>
<td>God walks in the garden (Gen 3:8)</td>
<td>God's dwelling is with humanity (Rev 21:3)</td>
</tr>
<tr>
<td>Face-to-face relationship before sin</td>
<td>Face-to-face relationship restored (Rev 22:4)</td>
</tr>
<tr>
<td>Tree of life in Eden (Gen 2:9)</td>
<td>Tree of life in New Jerusalem (Rev 22:2)</td>
</tr>
<tr>
<td>River flows from Eden (Gen 2:10)</td>
<td>River flows from God's throne (Rev 22:1)</td>
</tr>
<tr>
<td>No sin, death, or curse initially</td>
<td>No more sin, death, or curse (Rev 21:4; 22:3)</td>
</tr>
<tr>
<td>Humanity given dominion (Gen 1:28)</td>
<td>Saints reign forever (Rev 22:5)</td>
</tr>
<tr>
<td>Serpent enters and deceives (Gen 3)</td>
<td>Serpent cast into lake of fire (Rev 20:10)</td>
</tr>
<tr style="background: rgba(251, 191, 36, 0.1);">
<td><strong>Broken covenant</strong> - "You will surely die" (Gen 2:17)</td>
<td><strong>Restored covenant</strong> - "No more death" (Rev 21:4); "I will be their God" (Rev 21:3)</td>
</tr>
</tbody>
</table>

<p style="margin-top: 2rem; font-size: 1.05rem;">
                <strong>The entire Bible is the story of how God restores the covenant relationship broken in Genesis 3.</strong>
                Every covenant (Noah, Abraham, Moses, David, New Covenant) is a step toward Revelation 21:3. What was lost in Eden‚Äî
                intimate, unmediated fellowship with God‚Äîis restored in the New Jerusalem. But it's not just restoration‚Äîit's
                <strong>consummation</strong>. The New Jerusalem exceeds Eden because now the people of God <strong>cannot fall</strong>.
                The covenant is eternal, unbreakable, perfect.
            </p>
</div>
</section>

<div class="see-also-section">
<h4>See Also</h4>
<div class="see-also-links">
<a href="../new-jerusalem.html" class="see-also-link"><span>üåÜ</span> New Jerusalem</a>
<a href="../new-creation.html" class="see-also-link"><span>üåø</span> New Creation</a>
<a href="../old-testament-parallels.html" class="see-also-link"><span>üìú</span> OT Parallels</a>
<a href="ezekiel-parallels.html" class="see-also-link"><span>üëÅÔ∏è</span> Ezekiel Parallels</a>
</div>
</div>

<!-- User Theory Widget Section -->
<section class="theory-widget-container">
  <div data-theory-widget
       data-page="christian/texts/parallels/covenant-formulas"
       data-title="Covenant Formulas - "I Will Be Their God, They Will Be My People""
       data-mode="inline"></div>
</section>
</main>

<footer>
<p><strong>World Mythos Explorer</strong> - Covenant Formulas Across Scripture</p>
</footer>


<!-- Authentication Modal -->
<div id="auth-modal" class="auth-modal">
    <div class="auth-modal-content">
        <button class="auth-modal-close" onclick="window.userAuth.hideAuthModal()">&times;</button>

        <h2 id="auth-modal-title" class="auth-modal-title">Login to Your Account</h2>

        <div id="auth-message" class="auth-message"></div>

        <!-- Login Form -->
        <form id="login-form" class="auth-form" onsubmit="handleLogin(event)">
            <div class="auth-form-group">
                <label for="login-username">Username</label>
                <input type="text" id="login-username" name="username" required autocomplete="username">
            </div>

            <div class="auth-form-group">
                <label for="login-password">Password</label>
                <input type="password" id="login-password" name="password" required autocomplete="current-password">
            </div>

            <button type="submit" class="auth-submit-btn">Login</button>

            <div class="auth-switch">
                Don't have an account?
                <a class="auth-switch-link" onclick="window.userAuth.switchAuthMode('signup')">Sign up</a>
            </div>
        </form>

        <!-- Signup Form -->
        <form id="signup-form" class="auth-form" style="display: none;" onsubmit="handleSignup(event)">
            <div class="auth-form-group">
                <label for="signup-username">Username</label>
                <input type="text" id="signup-username" name="username" required
                       minlength="3" autocomplete="username">
            </div>

            <div class="auth-form-group">
                <label for="signup-email">Email</label>
                <input type="email" id="signup-email" name="email" required autocomplete="email">
            </div>

            <div class="auth-form-group">
                <label for="signup-password">Password</label>
                <input type="password" id="signup-password" name="password" required
                       minlength="6" autocomplete="new-password">
            </div>

            <button type="submit" class="auth-submit-btn">Create Account</button>

            <div class="auth-switch">
                Already have an account?
                <a class="auth-switch-link" onclick="window.userAuth.switchAuthMode('login')">Login</a>
            </div>
        </form>
    </div>
</div>

<!-- User Display (shown when logged in) -->
<div id="user-nav" style="position: fixed; top: 1rem; right: 1rem; z-index: 1000;">
    <!-- Login/Signup buttons (shown when logged out) -->
    <div data-auth-show="loggedOut" style="display: flex; gap: 0.5rem;">
        <button class="auth-submit-btn" onclick="window.userAuth.showLoginModal()" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
            Login
        </button>
        <button class="auth-submit-btn" onclick="window.userAuth.showSignupModal()" style="padding: 0.5rem 1rem; font-size: 0.9rem; background: linear-gradient(135deg, #22c55e, #16a34a);">
            Sign Up
        </button>
    </div>

    <!-- User menu (shown when logged in) -->
    <div data-auth-show="loggedIn" style="display: none;">
        <div class="user-display" onclick="toggleUserDropdown()">
            <img data-auth-avatar src="" alt="User Avatar" class="user-avatar">
            <span data-auth-username class="user-username"></span>
            <span>‚ñº</span>
        </div>

        <div id="user-dropdown" class="user-dropdown">
            <a href="/theories/user-submissions/index.html" class="user-dropdown-item">My Theories</a>
            <a href="/profile.html" class="user-dropdown-item">Profile Settings</a>
            <div style="border-top: 1px solid rgba(147, 51, 234, 0.3); margin: 0.5rem 0;"></div>
            <button class="user-logout-btn" onclick="window.userAuth.logout()">Logout</button>
        </div>
    </div>
</div>

<script>
// Auth form handlers
function handleLogin(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const username = formData.get('username');
    const password = formData.get('password');

    const result = window.userAuth.login(username, password);

    if (result.success) {
        window.userAuth.showAuthMessage(result.message, 'success');
        setTimeout(() => {
            window.userAuth.hideAuthModal();
        }, 1000);
    } else {
        window.userAuth.showAuthMessage(result.error, 'error');
    }
}

function handleSignup(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const username = formData.get('username');
    const email = formData.get('email');
    const password = formData.get('password');

    const result = window.userAuth.signup(username, email, password);

    if (result.success) {
        window.userAuth.showAuthMessage(result.message + ' You can now login.', 'success');
        setTimeout(() => {
            window.userAuth.switchAuthMode('login');
            window.userAuth.clearAuthMessages();
        }, 2000);
    } else {
        window.userAuth.showAuthMessage(result.error, 'error');
    }
}

// User dropdown toggle
function toggleUserDropdown() {
    const dropdown = document.getElementById('user-dropdown');
    dropdown.classList.toggle('show');
}

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
    if (!e.target.closest('.user-display') && !e.target.closest('#user-dropdown')) {
        document.getElementById('user-dropdown')?.classList.remove('show');
    }
});
</script>
</body>
</html>