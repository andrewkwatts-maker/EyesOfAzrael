<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celtic Mythology - World Mythos Explorer</title>

    <!-- Base Theme System -->
    <link rel="stylesheet" href="../../themes/theme-base.css">
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="../../themes/corpus-links.css">
    <link rel="stylesheet" href="../../themes/smart-links.css">

    <!-- Firebase Theme System -->
    <link rel="stylesheet" href="/css/firebase-themes.css">

    <!-- Theme Scripts -->
    <script defer src="../../themes/theme-picker.js"></script>
    <script defer src="../../themes/theme-animations.js"></script>
    <script defer src="../../themes/smart-links.js"></script>

    <!-- Submission Link System -->
    <script src="../../js/submission-context.js"></script>
    <script src="../../js/components/submission-link.js"></script>
    <link rel="stylesheet" href="../../css/submission-link.css">

    <!-- Firebase Auth System -->
    <link rel="stylesheet" href="../../css/user-auth.css">
    <script src="../../js/firebase-auth.js"></script>
    <script src="../../js/auth-guard.js"></script>
    <script src="../../js/components/google-signin-button.js"></script>

    <style>
        /* ============================================
           FIREBASE-ENHANCED MYTHOLOGY INDEX TEMPLATE
           Combines existing styles with Firebase integration
           ============================================ */

        /* Breadcrumb - Full-width bar attached below header */
        .breadcrumb {
            position: sticky;
            top: 60px;
            left: 0;
            width: 100%;
            z-index: 999;
            background: rgba(var(--color-surface-rgb), 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            padding: var(--spacing-xs) var(--spacing-lg);
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            border-bottom: 1px solid rgba(var(--color-primary-rgb), 0.15);
        }

        .breadcrumb a {
            color: var(--color-primary);
            text-decoration: none;
            transition: all var(--transition-fast);
        }

        .breadcrumb a:hover {
            color: var(--color-secondary);
            text-decoration: underline;
        }

        /* Hero Section - Modern Glass Styling */
        .hero-section {
            background: linear-gradient(135deg,
                rgba(var(--color-primary-rgb), 0.8),
                rgba(var(--color-secondary-rgb), 0.8));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 2px solid var(--color-primary);
            color: var(--color-text-primary);
            padding: 3rem 2rem;
            text-align: center;
            border-radius: var(--radius-xl);
            margin-bottom: 2rem;
            box-shadow: var(--shadow-xl);
        }

        .hero-icon-display {
            font-size: 5rem;
            margin-bottom: var(--spacing-md);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
        }

        .hero-description {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 1rem auto;
            line-height: 1.7;
        }

        /* Glass Card - With Hover Animation */
        .glass-card {
            background: rgba(var(--color-surface-rgb), 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(var(--color-primary-rgb), 0.2);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-base, 0.3s ease);
        }

        .glass-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl), 0 0 20px rgba(var(--color-primary-rgb), 0.15);
            border-color: rgba(var(--color-primary-rgb), 0.4);
        }

        /* Firebase Content Sections */
        .firebase-section {
            margin: 3rem 0;
        }

        .section-header {
            color: var(--color-primary);
            margin-bottom: var(--spacing-lg);
            font-size: 2rem;
            font-weight: 700;
        }

        /* Grid Layouts */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .deity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }

        /* Loading States */
        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            gap: var(--spacing-md);
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--theme-primary, var(--color-primary));
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: white;
            font-size: 1.1rem;
            text-align: center;
        }

        /* Static Content (preserved from original) */
        .static-content {
            margin: 2rem 0;
        }

        /* Wheel of the Year - Interactive Calendar */
        .wheel-of-year {
            position: relative;
            width: min(600px, 90vw);
            height: min(600px, 90vw);
            margin: 3rem auto;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(var(--color-surface-rgb), 0.9), rgba(var(--color-primary-rgb), 0.2));
            border: 3px solid var(--color-primary);
            box-shadow: var(--shadow-xl), 0 0 40px rgba(var(--color-primary-rgb), 0.3);
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }

        .festival-marker {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            margin-left: -50px;
            margin-top: -50px;
            transform-origin: center;
        }

        .festival-point {
            position: absolute;
            top: -200px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(var(--color-surface-rgb), 0.95);
            border: 2px solid var(--color-primary);
            border-radius: var(--radius-lg);
            padding: 1rem;
            min-width: 140px;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .festival-point:hover {
            transform: translateX(-50%) scale(1.1);
            box-shadow: var(--shadow-lg);
            z-index: 20;
        }

        .festival-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .festival-name {
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 0.25rem;
        }

        .festival-date {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
        }

        /* Ogham Alphabet Display */
        .ogham-section {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(205, 133, 63, 0.1));
            border: 2px solid rgba(139, 69, 19, 0.3);
            border-radius: var(--radius-xl);
            padding: 2rem;
            margin: 3rem 0;
        }

        .ogham-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .ogham-letter {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(139, 69, 19, 0.3);
            border-radius: var(--radius-md);
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .ogham-letter:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: rgba(139, 69, 19, 0.6);
        }

        .ogham-char {
            font-size: 2.5rem;
            font-family: monospace;
            color: #8B4513;
            margin-bottom: 0.5rem;
        }

        .ogham-name {
            font-size: 0.85rem;
            font-weight: 600;
            color: #8B4513;
            margin-bottom: 0.25rem;
        }

        .ogham-tree {
            font-size: 0.75rem;
            color: var(--color-text-secondary);
        }

        /* Family Tree Visualization */
        .family-tree {
            background: rgba(var(--color-surface-rgb), 0.6);
            border: 2px solid var(--color-primary);
            border-radius: var(--radius-xl);
            padding: 2rem;
            margin: 3rem 0;
        }

        .tree-node {
            background: rgba(var(--color-primary-rgb), 0.1);
            border: 2px solid var(--color-primary);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin: 0.5rem;
            display: inline-block;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .tree-node:hover {
            background: rgba(var(--color-primary-rgb), 0.2);
            transform: scale(1.05);
        }

        .tree-level {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
        }

        .tree-connector {
            border-left: 2px solid var(--color-primary);
            height: 30px;
            margin: 0 auto;
            width: 0;
        }

        /* Old Irish Typography */
        .old-irish {
            font-family: "Times New Roman", serif;
            font-style: italic;
            color: var(--color-primary);
        }

        .pronunciation {
            font-family: "Courier New", monospace;
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }

            .deity-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .hero-section {
                padding: 2rem 1rem;
            }

            .hero-icon-display {
                font-size: 3rem;
            }

            .breadcrumb {
                font-size: var(--font-size-xs);
                padding: var(--spacing-xs) var(--spacing-md);
                top: 50px;
            }

            .wheel-of-year {
                width: 90vw;
                height: 90vw;
            }

            .festival-point {
                top: -150px;
                min-width: 100px;
                padding: 0.75rem;
            }

            .ogham-grid {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
                gap: 0.75rem;
            }
        }
    </style>

    <link rel="stylesheet" href="/css/editable-panels.css">
</head>
<body data-theme="celtic">
    <!-- Theme Picker Container -->
    <div id="theme-picker"></div>
    <div id="theme-picker-container"></div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>‚òòÔ∏è Celtic Mythology</h1>
            <div id="user-auth-nav"></div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="../../mythos/index.html">Home</a> ‚Üí
        <span aria-current="page">Celtic Mythology</span>
    </nav>

    <main>
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-icon-display">‚òòÔ∏è</div>
            <h2>Celtic Mythology</h2>
            <h3 style="margin: 0.5rem 0; font-size: 1.3rem;">
                <span class="old-irish" style="color: white;">Tuatha De Danann</span>
                <span class="pronunciation" style="color: rgba(255, 255, 255, 0.8);">/ÀàtÃ™À†u…ôh…ô d ≤eÀê ÀàdÃ™À†anÃ™À†…ônÃ™À†/</span>
            </h3>
            <p class="hero-description">
                Step into the enchanted otherworld of Celtic mythology, where druids channel ancient magic and heroes quest through mystical lands.
                From the divine <span class="old-irish" style="color: white;">Tuatha De Danann</span> to the legendary warriors of Ireland and Wales,
                discover a tradition where the veil between mortal and immortal is gossamer-thin, and every oak grove holds sacred mysteries.
            </p>
        </div>

        <!-- ============================================
             FIREBASE-LOADED DYNAMIC CONTENT SECTIONS
             These sections load from Firestore
             ============================================ -->

        <!-- Deities Section -->
        <section class="firebase-section">
            <h2 class="section-header">‚ö° Deities</h2>
            <div id="deities-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading deities from Firebase...</p>
            </div>
            <div id="deities-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Heroes Section -->
        <section class="firebase-section">
            <h2 class="section-header">ü¶∏ Heroes & Legendary Mortals</h2>
            <div id="heroes-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading heroes from Firebase...</p>
            </div>
            <div id="heroes-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Creatures Section -->
        <section class="firebase-section">
            <h2 class="section-header">üêâ Creatures & Monsters</h2>
            <div id="creatures-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading creatures from Firebase...</p>
            </div>
            <div id="creatures-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Cosmology Section -->
        <section class="firebase-section">
            <h2 class="section-header">üåå Cosmology & Sacred Places</h2>
            <div id="cosmology-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading cosmology from Firebase...</p>
            </div>
            <div id="cosmology-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Texts Section -->
        <section class="firebase-section">
            <h2 class="section-header">üìö Sacred Texts</h2>
            <div id="texts-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading texts from Firebase...</p>
            </div>
            <div id="texts-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Herbs Section -->
        <section class="firebase-section">
            <h2 class="section-header">üåø Sacred Plants & Herbalism</h2>
            <div id="herbs-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading herbs from Firebase...</p>
            </div>
            <div id="herbs-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Rituals Section -->
        <section class="firebase-section">
            <h2 class="section-header">üîÆ Rituals & Practices</h2>
            <div id="rituals-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading rituals from Firebase...</p>
            </div>
            <div id="rituals-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Symbols Section -->
        <section class="firebase-section">
            <h2 class="section-header">üî± Sacred Symbols</h2>
            <div id="symbols-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading symbols from Firebase...</p>
            </div>
            <div id="symbols-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Concepts Section -->
        <section class="firebase-section">
            <h2 class="section-header">üí≠ Mystical Concepts</h2>
            <div id="concepts-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading concepts from Firebase...</p>
            </div>
            <div id="concepts-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- Myths Section -->
        <section class="firebase-section">
            <h2 class="section-header">üìñ Myths & Legends</h2>
            <div id="myths-loading" class="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading myths from Firebase...</p>
            </div>
            <div id="myths-container" class="content-grid" style="display: none;"></div>
        </section>

        <!-- ============================================
             STATIC CUSTOM CONTENT (PRESERVED)
             Add any mythology-specific static content here
             ============================================ -->
        <div class="static-content">
            <!-- Wheel of the Year - Celtic Festivals -->
            <section class="glass-card">
                <h2 class="section-header">Wheel of the Year - Celtic Festivals</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--color-text-secondary);">
                    The eight sacred festivals of the Celtic calendar, marking the turning of the seasons and the eternal cycle of life, death, and rebirth.
                </p>

                <div class="wheel-of-year">
                    <div class="wheel-center">‚òòÔ∏è</div>

                    <!-- Samhain (November 1) - Top -->
                    <div class="festival-marker" style="transform: rotate(0deg);">
                        <div class="festival-point" title="Click to learn more about Samhain">
                            <div class="festival-icon">üéÉ</div>
                            <div class="festival-name">Samhain</div>
                            <div class="festival-date">Nov 1</div>
                        </div>
                    </div>

                    <!-- Winter Solstice (December 21) -->
                    <div class="festival-marker" style="transform: rotate(45deg);">
                        <div class="festival-point" title="Winter Solstice">
                            <div class="festival-icon">‚ùÑÔ∏è</div>
                            <div class="festival-name">Yule</div>
                            <div class="festival-date">Dec 21</div>
                        </div>
                    </div>

                    <!-- Imbolc (February 1) -->
                    <div class="festival-marker" style="transform: rotate(90deg);">
                        <div class="festival-point" title="Brigid's Festival">
                            <div class="festival-icon">üî•</div>
                            <div class="festival-name">Imbolc</div>
                            <div class="festival-date">Feb 1</div>
                        </div>
                    </div>

                    <!-- Spring Equinox (March 21) -->
                    <div class="festival-marker" style="transform: rotate(135deg);">
                        <div class="festival-point" title="Spring Equinox">
                            <div class="festival-icon">üå±</div>
                            <div class="festival-name">Ostara</div>
                            <div class="festival-date">Mar 21</div>
                        </div>
                    </div>

                    <!-- Beltane (May 1) -->
                    <div class="festival-marker" style="transform: rotate(180deg);">
                        <div class="festival-point" title="Festival of Fire and Fertility">
                            <div class="festival-icon">üå∫</div>
                            <div class="festival-name">Beltane</div>
                            <div class="festival-date">May 1</div>
                        </div>
                    </div>

                    <!-- Summer Solstice (June 21) -->
                    <div class="festival-marker" style="transform: rotate(225deg);">
                        <div class="festival-point" title="Summer Solstice">
                            <div class="festival-icon">‚òÄÔ∏è</div>
                            <div class="festival-name">Litha</div>
                            <div class="festival-date">Jun 21</div>
                        </div>
                    </div>

                    <!-- Lughnasadh (August 1) -->
                    <div class="festival-marker" style="transform: rotate(270deg);">
                        <div class="festival-point" title="Lugh's Harvest Festival">
                            <div class="festival-icon">üåæ</div>
                            <div class="festival-name">Lughnasadh</div>
                            <div class="festival-date">Aug 1</div>
                        </div>
                    </div>

                    <!-- Autumn Equinox (September 21) -->
                    <div class="festival-marker" style="transform: rotate(315deg);">
                        <div class="festival-point" title="Autumn Equinox">
                            <div class="festival-icon">üçÇ</div>
                            <div class="festival-name">Mabon</div>
                            <div class="festival-date">Sep 21</div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(var(--color-primary-rgb), 0.1); border-radius: var(--radius-lg);">
                    <h3 style="color: var(--color-primary); margin-bottom: 1rem;">The Four Fire Festivals</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div>
                            <strong style="color: var(--color-primary);">Samhain</strong> - The Celtic New Year, when the veil between worlds is thinnest. Honor the ancestors and the Morrigan.
                        </div>
                        <div>
                            <strong style="color: var(--color-primary);">Imbolc</strong> - Brigid's festival of fire and first light. Celebrate returning fertility and poetic inspiration.
                        </div>
                        <div>
                            <strong style="color: var(--color-primary);">Beltane</strong> - Festival of fertility and union. Leap the balefire and celebrate the greening earth.
                        </div>
                        <div>
                            <strong style="color: var(--color-primary);">Lughnasadh</strong> - Lugh's harvest festival. First fruits and games honoring Tailtiu, Lugh's foster mother.
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ogham Alphabet Section -->
            <section class="ogham-section">
                <h2 class="section-header" style="color: #8B4513;">The Ogham Alphabet - Ogma's Gift</h2>
                <p style="text-align: center; margin-bottom: 1rem; line-height: 1.7;">
                    Invented by <span class="old-irish">Ogma</span> <span class="pronunciation">/Àào…£m…ô/</span>, god of eloquence and champion of the Tuatha De Danann.
                    Each letter is named for a sacred tree, encoding both linguistic and natural wisdom. Click each letter to learn its tree and meaning.
                </p>

                <div class="ogham-grid">
                    <div class="ogham-letter" title="Beith - Birch, new beginnings">
                        <div class="ogham-char">·öÅ</div>
                        <div class="ogham-name">B - Beith</div>
                        <div class="ogham-tree">Birch</div>
                    </div>
                    <div class="ogham-letter" title="Luis - Rowan, protection">
                        <div class="ogham-char">·öÇ</div>
                        <div class="ogham-name">L - Luis</div>
                        <div class="ogham-tree">Rowan</div>
                    </div>
                    <div class="ogham-letter" title="Fearn - Alder, foundation">
                        <div class="ogham-char">·öÉ</div>
                        <div class="ogham-name">F - Fearn</div>
                        <div class="ogham-tree">Alder</div>
                    </div>
                    <div class="ogham-letter" title="Sail - Willow, intuition">
                        <div class="ogham-char">·öÑ</div>
                        <div class="ogham-name">S - Sail</div>
                        <div class="ogham-tree">Willow</div>
                    </div>
                    <div class="ogham-letter" title="Nuin - Ash, connection">
                        <div class="ogham-char">·öÖ</div>
                        <div class="ogham-name">N - Nuin</div>
                        <div class="ogham-tree">Ash</div>
                    </div>
                    <div class="ogham-letter" title="Huath - Hawthorn, protection">
                        <div class="ogham-char">·öÜ</div>
                        <div class="ogham-name">H - Huath</div>
                        <div class="ogham-tree">Hawthorn</div>
                    </div>
                    <div class="ogham-letter" title="Duir - Oak, strength">
                        <div class="ogham-char">·öá</div>
                        <div class="ogham-name">D - Duir</div>
                        <div class="ogham-tree">Oak</div>
                    </div>
                    <div class="ogham-letter" title="Tinne - Holly, balance">
                        <div class="ogham-char">·öà</div>
                        <div class="ogham-name">T - Tinne</div>
                        <div class="ogham-tree">Holly</div>
                    </div>
                    <div class="ogham-letter" title="Coll - Hazel, wisdom">
                        <div class="ogham-char">·öâ</div>
                        <div class="ogham-name">C - Coll</div>
                        <div class="ogham-tree">Hazel</div>
                    </div>
                    <div class="ogham-letter" title="Quert - Apple, choice">
                        <div class="ogham-char">·öä</div>
                        <div class="ogham-name">Q - Quert</div>
                        <div class="ogham-tree">Apple</div>
                    </div>
                    <div class="ogham-letter" title="Muin - Vine, prophecy">
                        <div class="ogham-char">·öã</div>
                        <div class="ogham-name">M - Muin</div>
                        <div class="ogham-tree">Vine</div>
                    </div>
                    <div class="ogham-letter" title="Gort - Ivy, growth">
                        <div class="ogham-char">·öå</div>
                        <div class="ogham-name">G - Gort</div>
                        <div class="ogham-tree">Ivy</div>
                    </div>
                    <div class="ogham-letter" title="nGetal - Reed, action">
                        <div class="ogham-char">·öç</div>
                        <div class="ogham-name">Ng - nGetal</div>
                        <div class="ogham-tree">Reed</div>
                    </div>
                    <div class="ogham-letter" title="Straif - Blackthorn, fate">
                        <div class="ogham-char">·öé</div>
                        <div class="ogham-name">Z - Straif</div>
                        <div class="ogham-tree">Blackthorn</div>
                    </div>
                    <div class="ogham-letter" title="Ruis - Elder, transition">
                        <div class="ogham-char">·öè</div>
                        <div class="ogham-name">R - Ruis</div>
                        <div class="ogham-tree">Elder</div>
                    </div>
                    <div class="ogham-letter" title="Ailm - Pine, perspective">
                        <div class="ogham-char">·öê</div>
                        <div class="ogham-name">A - Ailm</div>
                        <div class="ogham-tree">Pine</div>
                    </div>
                    <div class="ogham-letter" title="Onn - Gorse, gathering">
                        <div class="ogham-char">·öë</div>
                        <div class="ogham-name">O - Onn</div>
                        <div class="ogham-tree">Gorse</div>
                    </div>
                    <div class="ogham-letter" title="Ur - Heather, passion">
                        <div class="ogham-char">·öí</div>
                        <div class="ogham-name">U - Ur</div>
                        <div class="ogham-tree">Heather</div>
                    </div>
                    <div class="ogham-letter" title="Eadhadh - Aspen, courage">
                        <div class="ogham-char">·öì</div>
                        <div class="ogham-name">E - Eadhadh</div>
                        <div class="ogham-tree">Aspen</div>
                    </div>
                    <div class="ogham-letter" title="Idho - Yew, rebirth">
                        <div class="ogham-char">·öî</div>
                        <div class="ogham-name">I - Idho</div>
                        <div class="ogham-tree">Yew</div>
                    </div>
                </div>

                <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(255, 255, 255, 0.7); border-radius: var(--radius-lg); border-left: 4px solid #8B4513;">
                    <h3 style="color: #8B4513; margin-bottom: 0.75rem;">About Ogham</h3>
                    <p style="line-height: 1.7;">
                        Ogham was carved as notches along the edges of standing stones and wooden staves, primarily from the 4th-7th centuries CE.
                        Over 400 Ogham stones survive across Ireland, Scotland, Wales, and the Isle of Man. The script was used for memorial inscriptions,
                        marking boundaries, magical purposes, and divination. Druids carved Ogham staves for prophecy, believing the script carried inherent power.
                    </p>
                </div>
            </section>

            <!-- Tuatha De Danann Family Tree -->
            <section class="family-tree">
                <h2 class="section-header">Tuatha De Danann - The God-Tribe</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--color-text-secondary);">
                    The divine family of Irish mythology, descended from <span class="old-irish">Danu</span>, the mother goddess.
                    Click each deity to learn more about their stories and domains.
                </p>

                <!-- Generation 1: Danu -->
                <div class="tree-level">
                    <div class="tree-node" style="font-size: 1.2rem; padding: 1.5rem;">
                        üåø <strong class="old-irish">Danu</strong><br>
                        <small>Mother of the Gods</small>
                    </div>
                </div>
                <div class="tree-connector"></div>

                <!-- Generation 2: The Dagda and Consorts -->
                <div class="tree-level">
                    <div class="tree-node">
                        ‚ö° <strong class="old-irish">An Dagda</strong><br>
                        <small class="pronunciation">/…ôn Ààda…£√∞a/</small><br>
                        <small>The All-Father</small>
                    </div>
                    <div class="tree-node">
                        ‚öîÔ∏è <strong class="old-irish">An Morrigan</strong><br>
                        <small>Phantom Queen</small>
                    </div>
                    <div class="tree-node">
                        üó°Ô∏è <strong class="old-irish">Nuada</strong><br>
                        <small>Silver Hand</small>
                    </div>
                </div>
                <div class="tree-connector"></div>

                <!-- Generation 3: Children of the Dagda -->
                <div class="tree-level">
                    <div class="tree-node">
                        üî• <strong class="old-irish">Brigid</strong><br>
                        <small class="pronunciation">/Ààbr ≤…™…ü…™d ≤/</small><br>
                        <small>Fire & Poetry</small>
                    </div>
                    <div class="tree-node">
                        üíö <strong class="old-irish">Aengus Og</strong><br>
                        <small>God of Love</small>
                    </div>
                    <div class="tree-node">
                        üìú <strong class="old-irish">Ogma</strong><br>
                        <small class="pronunciation">/Àào…£m…ô/</small><br>
                        <small>Eloquence</small>
                    </div>
                    <div class="tree-node">
                        ‚òÄÔ∏è <strong class="old-irish">Lugh</strong><br>
                        <small class="pronunciation">/lÃ™À†u…£/</small><br>
                        <small>Many-Skilled</small>
                    </div>
                </div>
                <div class="tree-connector"></div>

                <!-- Generation 4: Other Deities -->
                <div class="tree-level">
                    <div class="tree-node">
                        üåä <strong class="old-irish">Manannan</strong><br>
                        <small>Sea God</small>
                    </div>
                    <div class="tree-node">
                        ü¶å <strong class="old-irish">Cernunnos</strong><br>
                        <small>Horned One</small>
                    </div>
                    <div class="tree-node">
                        üåæ <strong class="old-irish">Tailtiu</strong><br>
                        <small>Earth Goddess</small>
                    </div>
                </div>

                <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(var(--color-primary-rgb), 0.1); border-radius: var(--radius-lg);">
                    <p style="line-height: 1.7; text-align: center;">
                        The <span class="old-irish">Tuatha De Danann</span> <span class="pronunciation">/ÀàtÃ™À†u…ôh…ô d ≤eÀê ÀàdÃ™À†anÃ™À†…ônÃ™À†/</span>
                        ("People of the Goddess Danu") are the divine race of Irish mythology. They arrived in Ireland shrouded in mist,
                        bringing four great treasures: the Lia Fail (Stone of Destiny), the Spear of Lugh, the Sword of Nuada, and the Cauldron of the Dagda.
                        After their defeat by the mortal Milesians, they retreated to the Sidhe mounds, becoming the Aos Si - the fairy folk.
                    </p>
                </div>
            </section>
        </div>

        <!-- Cross-Cultural Parallels Section -->
        <section class="interlink-panel" style="margin-top: var(--spacing-xl, 3rem);">
            <h3 class="interlink-header">
                <span class="interlink-icon">üåç</span>
                Cross-Cultural Parallels
            </h3>
            <p style="margin-bottom: var(--spacing-lg); color: var(--color-text-secondary);">
                Explore how Celtic mythology connects with other world traditions through shared themes and archetypes.
            </p>
            <div class="parallel-grid">
                <!-- Parallel mythology links will be added here -->
            </div>
        </section>

        <!-- Related Traditions -->
        <section style="margin-top: var(--spacing-xl, 3rem);">
            <h2 class="section-header">üîó Related Traditions</h2>
            <div class="glass-card">
                <h3>Explore Other Mythologies</h3>
                <div class="button-grid" style="display: flex; flex-wrap: wrap; gap: var(--spacing-md);">
                    <a class="btn btn-secondary" href="../greek/index.html">Greek</a>
                    <a class="btn btn-secondary" href="../roman/index.html">Roman</a>
                    <a class="btn btn-secondary" href="../norse/index.html">Norse</a>
                    <a class="btn btn-secondary" href="../egyptian/index.html">Egyptian</a>
                    <a class="btn btn-secondary" href="../hindu/index.html">Hindu</a>
                    <a class="btn btn-secondary" href="../buddhist/index.html">Buddhist</a>
                    <a class="btn btn-secondary" href="../celtic/index.html">Celtic</a>
                    <a class="btn btn-secondary" href="../christian/index.html">Christian</a>
                    <a class="btn btn-secondary" href="../islamic/index.html">Islamic</a>
                    <a class="btn btn-secondary" href="../jewish/index.html">Jewish</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>
            <strong>Celtic Mythology</strong> - World Mythos Explorer<br>
            <a href="../../mythos/index.html">Back to World Mythos Home</a> |
            <a href="../../index.html">Main Site</a>
        </p>
    </footer>

    <!-- Auto-inject submission button -->
    <script>
        if (window.SubmissionLink) {
            window.SubmissionLink.autoInject();
        }
    </script>

    <!-- Firebase SDK (CDN) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <!-- Firebase Configuration -->
    <script src="../../firebase-config.js"></script>

    <!-- Firebase Content Loader (Module) -->
    <script type="module">
        import { FirebaseContentLoader } from '/js/firebase-content-loader.js';

        // Wait for Firebase to initialize
        window.addEventListener('load', async () => {
            try {
                // Check if Firebase is initialized
                if (!window.firebaseApp || !window.firebaseDb) {
                    console.error('[Index] Firebase not initialized');
                    showGlobalError('Firebase is not configured. Please check firebase-config.js');
                    return;
                }

                console.log('[Index] Initializing Firebase Content Loader for celtic');

                // Create content loader instance
                const loader = new FirebaseContentLoader(window.firebaseApp);
                const mythology = 'celtic'; // e.g., 'greek', 'norse', 'egyptian'

                // Content types to load
                const contentTypes = [
                    { type: 'deities', container: 'deities-container', loading: 'deities-loading' },
                    { type: 'heroes', container: 'heroes-container', loading: 'heroes-loading' },
                    { type: 'creatures', container: 'creatures-container', loading: 'creatures-loading' },
                    { type: 'cosmology', container: 'cosmology-container', loading: 'cosmology-loading' },
                    { type: 'texts', container: 'texts-container', loading: 'texts-loading' },
                    { type: 'herbs', container: 'herbs-container', loading: 'herbs-loading' },
                    { type: 'rituals', container: 'rituals-container', loading: 'rituals-loading' },
                    { type: 'symbols', container: 'symbols-container', loading: 'symbols-loading' },
                    { type: 'concepts', container: 'concepts-container', loading: 'concepts-loading' },
                    { type: 'myths', container: 'myths-container', loading: 'myths-loading' }
                ];

                // Load each content type
                for (const { type, container, loading } of contentTypes) {
                    try {
                        console.log(`[Index] Loading ${type} for ${mythology}...`);

                        // Load content filtered by mythology
                        await loader.loadContent(type, { mythology: mythology });

                        // Hide loading, show container
                        const loadingEl = document.getElementById(loading);
                        const containerEl = document.getElementById(container);

                        if (loadingEl) loadingEl.style.display = 'none';
                        if (containerEl) containerEl.style.display = 'grid';

                        // Render content
                        loader.renderContent(container, type);

                        console.log(`[Index] ‚úì ${type} loaded successfully`);

                    } catch (error) {
                        console.error(`[Index] Error loading ${type}:`, error);

                        // Hide loading, show error
                        const loadingEl = document.getElementById(loading);
                        const containerEl = document.getElementById(container);

                        if (loadingEl) {
                            loadingEl.innerHTML = `
                                <div class="error-container">
                                    <div class="error-title">Failed to load ${type}</div>
                                    <div class="error-message">${error.message}</div>
                                </div>
                            `;
                        }
                    }
                }

                console.log('[Index] All content loaded successfully');

            } catch (error) {
                console.error('[Index] Fatal error:', error);
                showGlobalError('Failed to load content: ' + error.message);
            }
        });

        function showGlobalError(message) {
            document.querySelectorAll('.loading-container').forEach(el => {
                el.innerHTML = `
                    <div class="error-container">
                        <div class="error-title">Error</div>
                        <div class="error-message">${message}</div>
                    </div>
                `;
            });
        }
    </script>

    <!-- Initialize Auth UI -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Google Sign-In button in header
            if (window.GoogleSignInButton) {
                const authNav = document.getElementById('user-auth-nav');
                if (authNav) {
                    window.GoogleSignInButton.injectIntoElement(authNav, {
                        showUserInfo: true,
                        showAvatar: true,
                        compact: true
                    });
                }
            }
        });
    </script>

    <script src="/js/editable-panel-system.js"></script>


    <!-- Initialize Editable Panel System -->
    <script>
        // Wait for Firebase and content to load
        window.addEventListener('load', () => {
            // Give Firebase content loader time to render cards
            setTimeout(() => {
                if (typeof EditablePanelSystem === 'undefined') {
                    console.warn('[EditablePanels] EditablePanelSystem not loaded');
                    return;
                }

                if (!window.firebaseApp) {
                    console.warn('[EditablePanels] Firebase not initialized');
                    return;
                }

                console.log('[EditablePanels] Initializing editable panel system...');

                // Initialize the system
                const editableSystem = new EditablePanelSystem(window.firebaseApp);

                // Store globally for access
                window.editableSystem = editableSystem;

                // Initialize all rendered content cards
                const contentCards = document.querySelectorAll('.content-card[data-id]');

                contentCards.forEach(card => {
                    const documentId = card.getAttribute('data-id');

                    // Determine collection type from parent section
                    let collection = 'deities';
                    let contentType = 'deity';

                    const parentSection = card.closest('.firebase-section');
                    if (parentSection) {
                        const containerId = parentSection.querySelector('[id$="-container"]')?.id;
                        if (containerId) {
                            const type = containerId.replace('-container', '');
                            collection = type;
                            contentType = type.slice(0, -1); // Remove plural 's'
                        }
                    }

                    // Initialize editable panel
                    editableSystem.initEditablePanel(card, {
                        contentType: contentType,
                        documentId: documentId,
                        collection: collection,
                        canEdit: false, // Will be determined by checking user ownership
                        canSubmitAppendment: true
                    });
                });

                console.log(`[EditablePanels] Initialized ${contentCards.length} editable panels`);
            }, 2000); // Wait 2 seconds for content to load
        });
    </script>
</body>
</html>
