<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Picker Test - Eyes of Azrael</title>

    <!-- Theme Styles -->
    <link rel="stylesheet" href="themes/theme-base.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/icon-picker.css">

    <style>
        body {
            padding: 2rem;
            background: var(--color-background, #0a0e27);
            color: var(--color-text-primary, #e5e7eb);
            font-family: var(--font-primary, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif);
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .test-panel {
            background: var(--color-surface, rgba(26, 31, 58, 0.8));
            border: 2px solid var(--color-border, rgba(139, 127, 255, 0.3));
            border-radius: var(--radius-xl, 1rem);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .test-title {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--color-primary, #f59e0b);
        }

        .test-description {
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .test-button {
            padding: 0.75rem 2rem;
            background: linear-gradient(135deg, var(--color-primary, #f59e0b), var(--color-secondary, #fbbf24));
            color: white;
            border: none;
            border-radius: var(--radius-lg, 0.75rem);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast, 0.15s ease);
        }

        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(245, 158, 11, 0.4);
        }

        .selected-icon-display {
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--color-border, rgba(139, 127, 255, 0.3));
            border-radius: var(--radius-md, 0.5rem);
        }

        .selected-icon {
            font-size: 3rem;
            margin: 1rem 0;
        }

        .icon-code {
            font-family: var(--font-mono, 'Courier New', Courier, monospace);
            color: var(--color-accent, #8b7fff);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-panel">
            <h1 class="test-title">Icon Picker Component Test</h1>
            <p class="test-description">
                Click the button below to open the icon picker modal.
                Select an emoji or enter a custom icon class to see how it works.
            </p>

            <button class="test-button" onclick="openIconPicker()">
                Choose Icon
            </button>

            <div class="selected-icon-display" id="selected-display" style="display: none;">
                <h3>Selected Icon:</h3>
                <div class="selected-icon" id="selected-icon"></div>
                <p>Icon value: <span class="icon-code" id="icon-value"></span></p>
            </div>
        </div>

        <div class="test-panel">
            <h2 class="test-title" style="font-size: 1.5rem;">Features</h2>
            <ul style="line-height: 1.8;">
                <li>6 emoji categories: Symbols, Nature, Objects, Activities, Celestial, Mythical</li>
                <li>Recent emoji tracking (stored in localStorage)</li>
                <li>Search functionality</li>
                <li>Custom icon class support (Font Awesome, Material Icons, etc.)</li>
                <li>Frosted glass design matching the Eyes of Azrael theme</li>
                <li>Responsive and mobile-friendly</li>
                <li>Keyboard navigation (Escape to close)</li>
            </ul>
        </div>
    </div>

    <!-- Icon Picker Script -->
    <script src="js/components/icon-picker.js"></script>

    <script>
        function openIconPicker() {
            const picker = new IconPicker({
                currentIcon: '',
                allowCustomClass: true,
                onSelect: (icon) => {
                    displaySelectedIcon(icon);
                }
            });

            picker.show();
        }

        function displaySelectedIcon(icon) {
            const display = document.getElementById('selected-display');
            const iconElement = document.getElementById('selected-icon');
            const valueElement = document.getElementById('icon-value');

            display.style.display = 'block';

            if (icon) {
                // Check if it's an emoji (simple check)
                const isEmoji = icon.length <= 4 && !icon.match(/^(fa|fas|far|fal|fab|material-icons|mdi|ion|icon)/);

                if (isEmoji) {
                    iconElement.textContent = icon;
                } else {
                    iconElement.innerHTML = `<i class="${icon}"></i>`;
                }

                valueElement.textContent = icon;
            } else {
                iconElement.textContent = '(No icon selected)';
                valueElement.textContent = 'null';
            }
        }
    </script>
</body>
</html>
