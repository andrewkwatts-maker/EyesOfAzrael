<!DOCTYPE html>
<html>
<head>
    <title>Update Mythologies in Firestore</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a2e;
            color: #e0e0e0;
        }
        button {
            background: #9370DB;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px 0;
        }
        button:hover {
            background: #7d5fc9;
        }
        #output {
            background: #0a0a0a;
            padding: 15px;
            border: 1px solid #9370DB;
            border-radius: 5px;
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .success { color: #4ade80; }
        .error { color: #ff6347; }
        .info { color: #DAA520; }
    </style>
</head>
<body>
    <h1>Update Mythology Descriptions & Titles</h1>
    <p>This page will update the Firestore mythologies collection with:</p>
    <ul>
        <li>Missing descriptions</li>
        <li>Fixed titles (remove "World Mythos", "Mythos Explorer", "Index")</li>
        <li>Proper displayNames</li>
    </ul>

    <button onclick="updateMythologies()">ðŸš€ Update Mythologies in Firestore</button>

    <div id="output"></div>

    <script>
        const updates = [
            {
                id: 'apocryphal',
                displayName: 'Apocryphal & Enochian Mythology'
            },
            {
                id: 'aztec',
                title: 'Aztec Mythology',
                displayName: 'Aztec Mythology',
                description: 'Explore the rich tapestry of Aztec mythology, from the creation myths to the cosmic battles between gods. Discover the feathered serpent Quetzalcoatl, the sun god Huitzilopochtli, the rain god Tlaloc, and the complex calendar system that guided Aztec civilization. Journey through tales of sacrifice, cosmic cycles, and the five suns that shaped the world.'
            },
            {
                id: 'babylonian',
                displayName: 'Babylonian Mythology',
                description: 'Explore the ancient wisdom of Babylonian mythology, from the Enuma Elish creation epic to the Epic of Gilgamesh. Discover Marduk the creator god, Ishtar the goddess of love and war, and the seven planetary deities. Journey through tales of cosmic order, divine kingship, and the eternal struggle between chaos and civilization.'
            },
            {
                id: 'buddhist',
                displayName: 'Buddhist Mythology'
            },
            {
                id: 'celtic',
                title: 'Celtic Mythology',
                displayName: 'Celtic Mythology',
                description: 'Explore the mystical traditions of Celtic mythology, from the ancient druids to the legendary heroes. Discover the Tuatha DÃ© Danann, the otherworldly realms, and the sacred cycles of nature. Journey through tales of magic, transformation, and the thin veil between the mortal and immortal worlds.'
            },
            {
                id: 'chinese',
                displayName: 'Chinese Mythology'
            },
            {
                id: 'christian',
                displayName: 'Christian & Gnostic Mythology'
            },
            {
                id: 'comparative',
                displayName: 'Comparative Mythology Hub'
            },
            {
                id: 'egyptian',
                title: 'Egyptian Mythology',
                displayName: 'Egyptian Mythology',
                description: 'Explore the timeless wisdom of Egyptian mythology, from the creation of the world to the journey through the afterlife. Discover Ra the sun god, Osiris the lord of the underworld, Isis the great mother, and the intricate beliefs about death and resurrection that shaped one of history\'s greatest civilizations.'
            },
            {
                id: 'freemasons',
                displayName: 'Freemasonry'
            },
            {
                id: 'greek',
                displayName: 'Greek Mythology',
                description: 'Explore the rich tapestry of Greek mythology, from the heights of Mount Olympus to the depths of Tartarus. Discover the twelve Olympians, legendary heroes, fearsome creatures, and the mysteries that shaped Western civilization for over a millennium.'
            },
            {
                id: 'hindu',
                displayName: 'Hindu Mythology',
                description: 'Explore the vast cosmos of Hindu mythology, from the Trimurti (Brahma, Vishnu, Shiva) to the countless devas and devis. Journey through the cycles of creation and destruction, the paths to moksha (liberation), and the sacred wisdom of the Vedas, Upanishads, and Bhagavad Gita.'
            },
            {
                id: 'islamic',
                displayName: 'Islamic Theology & Mysticism',
                description: 'Explore the sacred traditions of Islamic theology and mysticism, from the prophets and angels to the mystical path of Sufism. Discover the 99 Names of Allah, the spiritual journey of the soul, and the rich tradition of Islamic philosophy and metaphysics.'
            },
            {
                id: 'japanese',
                displayName: 'Japanese Mythology',
                description: 'Explore the rich tapestry of Japanese mythology, recorded in the ancient chronicles Kojiki (712 CE) and Nihon Shoki (720 CE). Discover the creation myths, the kami (divine spirits) who created the Japanese islands, and gave birth to the sun, moon, and natural world. Journey from the creation by Izanagi and Izanami to the adventures of storm god Susanoo and the sun goddess Amaterasu. These tales explore themes of purity, pollution, death, and the sacred nature of the land itself.'
            },
            {
                id: 'jewish',
                title: 'Jewish Mythology & Kabbalah',
                displayName: 'Jewish Mythology & Kabbalah',
                description: 'Explore the rich traditions of Jewish mysticism and theology, from the Hebrew Bible to Kabbalah. Discover the Sefirot, the angelic hierarchies, and the profound metaphysical teachings that have shaped Jewish thought for millennia.'
            },
            {
                id: 'mayan',
                title: 'Maya Mythology',
                displayName: 'Maya Mythology',
                description: 'Explore the cosmic wisdom of Mayan mythology, from the Popol Vuh creation epic to the Hero Twins\' journey through Xibalba. Discover the maize god, the vision serpent, and the intricate calendar system that tracked cosmic cycles and prophetic time.'
            },
            {
                id: 'native_american',
                title: 'Native American Traditions',
                displayName: 'Native American Traditions',
                description: 'Explore the diverse spiritual traditions of Native American cultures, from creation stories to trickster tales. Discover the reverence for nature, the sacred medicine wheel, and the profound connection between all living things that defines indigenous wisdom.'
            },
            {
                id: 'norse',
                displayName: 'Norse Mythology',
                description: 'Explore the epic tales of Norse mythology, from the creation of the Nine Realms to RagnarÃ¶k, the twilight of the gods. Discover Odin the All-Father, Thor the thunder god, Loki the trickster, and the warrior culture that shaped Viking civilization.'
            },
            {
                id: 'persian',
                displayName: 'Persian/Zoroastrian Mythology',
                description: 'Explore the ancient dualistic traditions of Persian mythology, from Zoroastrianism to the epic tales of the Shahnameh. Discover Ahura Mazda and the cosmic battle between light and darkness, order and chaos, that shaped one of the world\'s oldest religions.'
            },
            {
                id: 'roman',
                displayName: 'Roman Mythology',
                description: 'Explore the grand traditions of Roman mythology, adapted from Greek gods but uniquely Roman in character. Discover Jupiter, Mars, Venus, and the divine myths that legitimized the Roman Empire and shaped Western civilization.'
            },
            {
                id: 'sumerian',
                displayName: 'Sumerian Mythology',
                description: 'Explore the earliest written myths of Sumerian civilization, from the creation of humanity to the descent of Inanna into the underworld. Discover Anu, Enlil, Enki, and the divine council that ruled the first cities of Mesopotamia.'
            },
            {
                id: 'tarot',
                displayName: 'Tarot & Hermetic Tradition'
            },
            {
                id: 'yoruba',
                displayName: 'Yoruba/African Mythology',
                description: 'Explore the vibrant spiritual traditions of Yoruba mythology from West Africa. Discover the Orishas, the divine forces of nature and human experience, and the rich cosmology that spread through the African diaspora to influence religions across the Americas.'
            }
        ];

        async function updateMythologies() {
            const output = document.getElementById('output');
            output.innerHTML = '<p class="info">ðŸš€ Starting update...</p>';

            const db = firebase.firestore();
            let successCount = 0;
            let errorCount = 0;

            for (const update of updates) {
                try {
                    const docRef = db.collection('mythologies').doc(update.id);

                    // Create update object with only the fields we want to change
                    const updateData = {};
                    if (update.description) updateData.description = update.description;
                    if (update.title) updateData.title = update.title;
                    if (update.displayName) updateData.displayName = update.displayName;

                    await docRef.set(updateData, { merge: true });

                    output.innerHTML += `<p class="success">âœ“ Updated ${update.id}</p>`;
                    successCount++;
                } catch (error) {
                    output.innerHTML += `<p class="error">âœ— Error updating ${update.id}: ${error.message}</p>`;
                    errorCount++;
                }

                // Scroll to bottom
                output.scrollTop = output.scrollHeight;
            }

            output.innerHTML += `<p class="info">\n=== Update Complete ===</p>`;
            output.innerHTML += `<p class="success">âœ“ Success: ${successCount}</p>`;
            output.innerHTML += `<p class="error">âœ— Errors: ${errorCount}</p>`;
            output.scrollTop = output.scrollHeight;
        }
    </script>
</body>
</html>
